var $t=Object.defineProperty,jt=Object.defineProperties;var Kt=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var ct=(e,r,t)=>r in e?$t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,_=(e,r)=>{for(var t in r||(r={}))dt.call(r,t)&&ct(e,t,r[t]);if(Se)for(var t of Se(r))ft.call(r,t)&&ct(e,t,r[t]);return e},q=(e,r)=>jt(e,Kt(r));var _e=(e,r)=>{var t={};for(var s in e)dt.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&Se)for(var s of Se(e))r.indexOf(s)<0&&ft.call(e,s)&&(t[s]=e[s]);return t};var ne=(e,r,t)=>new Promise((s,u)=>{var n=F=>{try{o(t.next(F))}catch(x){u(x)}},f=F=>{try{o(t.throw(F))}catch(x){u(x)}},o=F=>F.done?s(F.value):Promise.resolve(F.value).then(n,f);o((t=t.apply(e,r)).next())});import{R as v}from"./index-DCZ0UN8-.js";var Ae=e=>e.type==="checkbox",ye=e=>e instanceof Date,G=e=>e==null;const At=e=>typeof e=="object";var P=e=>!G(e)&&!Array.isArray(e)&&At(e)&&!ye(e),xt=e=>P(e)&&e.target?Ae(e.target)?e.target.checked:e.target.value:e,zt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wt=(e,r)=>e.has(zt(r)),Gt=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Je=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function T(e){let r;const t=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Je&&(e instanceof Blob||s))&&(t||P(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Gt(e))r=e;else for(const u in e)e.hasOwnProperty(u)&&(r[u]=T(e[u]));else return e;return r}var Ee=e=>/^\w*$/.test(e),L=e=>e===void 0,Ce=e=>Array.isArray(e)?e.filter(Boolean):[],Qe=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),c=(e,r,t)=>{if(!r||!P(e))return t;const s=(Ee(r)?[r]:Qe(r)).reduce((u,n)=>G(u)?u:u[n],e);return L(s)||s===e?L(e[r])?t:e[r]:s},X=e=>typeof e=="boolean",O=(e,r,t)=>{let s=-1;const u=Ee(r)?[r]:Qe(r),n=u.length,f=n-1;for(;++s<n;){const o=u[s];let F=t;if(s!==f){const x=e[o];F=P(x)||Array.isArray(x)?x:isNaN(+u[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=F,e=e[o]}};const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ue={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},St=v.createContext(null);St.displayName="HookFormContext";const Re=()=>v.useContext(St);var kt=(e,r,t,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const f=n;return r._proxyFormState[f]!==ee.all&&(r._proxyFormState[f]=!s||ee.all),t&&(t[f]=!0),e[f]}});return u};const Oe=typeof window!="undefined"?v.useLayoutEffect:v.useEffect;function Yt(e){const r=Re(),{control:t=r.control,disabled:s,name:u,exact:n}=e||{},[f,o]=v.useState(t._formState),F=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Oe(()=>t._subscribe({name:u,formState:F.current,exact:n,callback:x=>{!s&&o(_(_({},t._formState),x))}}),[u,s,n]),v.useEffect(()=>{F.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>kt(f,t,F.current,!1),[f,t])}var Z=e=>typeof e=="string",pt=(e,r,t,s,u)=>Z(e)?(s&&r.watch.add(e),c(t,e,u)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),c(t,n))):(s&&(r.watchAll=!0),t),Ke=e=>G(e)||!At(e);function le(e,r,t=new WeakSet){if(Ke(e)||Ke(r))return e===r;if(ye(e)&&ye(r))return e.getTime()===r.getTime();const s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of s){const f=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const o=r[n];if(ye(f)&&ye(o)||P(f)&&P(o)||Array.isArray(f)&&Array.isArray(o)?!le(f,o,t):f!==o)return!1}}return!0}function Jt(e){const r=Re(),{control:t=r.control,name:s,defaultValue:u,disabled:n,exact:f,compute:o}=e||{},F=v.useRef(u),x=v.useRef(o),w=v.useRef(void 0);x.current=o;const D=v.useMemo(()=>t._getWatch(s,F.current),[t,s]),[m,Q]=v.useState(x.current?x.current(D):D);return Oe(()=>t._subscribe({name:s,formState:{values:!0},exact:f,callback:j=>{if(!n){const M=pt(s,t._names,j.values||t._formValues,!1,F.current);if(x.current){const H=x.current(M);le(H,w.current)||(Q(H),w.current=H)}else Q(M)}}}),[t,n,s,f]),v.useEffect(()=>t._removeUnmounted()),m}function Qt(e){const r=Re(),{name:t,disabled:s,control:u=r.control,shouldUnregister:n,defaultValue:f}=e,o=wt(u._names.array,t),F=v.useMemo(()=>c(u._formValues,t,c(u._defaultValues,t,f)),[u,t,f]),x=Jt({control:u,name:t,defaultValue:F,exact:!0}),w=Yt({control:u,name:t,exact:!0}),D=v.useRef(e),m=v.useRef(void 0),Q=v.useRef(u.register(t,_(q(_({},e.rules),{value:x}),X(e.disabled)?{disabled:e.disabled}:{})));D.current=e;const j=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(w.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(w.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(w.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(w.validatingFields,t)},error:{enumerable:!0,get:()=>c(w.errors,t)}}),[w,t]),M=v.useCallback(U=>Q.current.onChange({target:{value:xt(U),name:t},type:ke.CHANGE}),[t]),H=v.useCallback(()=>Q.current.onBlur({target:{value:c(u._formValues,t),name:t},type:ke.BLUR}),[t,u._formValues]),oe=v.useCallback(U=>{const W=c(u._fields,t);W&&U&&(W._f.ref={focus:()=>U.focus&&U.focus(),select:()=>U.select&&U.select(),setCustomValidity:g=>U.setCustomValidity(g),reportValidity:()=>U.reportValidity()})},[u._fields,t]),S=v.useMemo(()=>q(_({name:t,value:x},X(s)||w.disabled?{disabled:w.disabled||s}:{}),{onChange:M,onBlur:H,ref:oe}),[t,s,w.disabled,M,H,oe,x]);return v.useEffect(()=>{const U=u._options.shouldUnregister||n,W=m.current;W&&W!==t&&!o&&u.unregister(W),u.register(t,_(_({},D.current.rules),X(D.current.disabled)?{disabled:D.current.disabled}:{}));const g=(b,A)=>{const C=c(u._fields,b);C&&C._f&&(C._f.mount=A)};if(g(t,!0),U){const b=T(c(u._options.defaultValues,t));O(u._defaultValues,t,b),L(c(u._formValues,t))&&O(u._formValues,t,b)}return!o&&u.register(t),m.current=t,()=>{(o?U&&!u._state.action:U)?u.unregister(t):g(t,!1)}},[t,u,o,n]),v.useEffect(()=>{u._setDisabledField({disabled:s,name:t})},[s,t,u]),v.useMemo(()=>({field:S,formState:w,fieldState:j}),[S,w,j])}const hr=e=>e.render(Qt(e));var Xt=(e,r,t,s,u)=>r?q(_({},t[e]),{types:q(_({},t[e]&&t[e].types?t[e].types:{}),{[s]:u||!0})}):{},J=e=>Array.isArray(e)?e:[e],yt=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}};function Dt(e,r){const t={};for(const s in e)if(e.hasOwnProperty(s)){const u=e[s],n=r[s];if(u&&P(u)&&n){const f=Dt(u,n);P(f)&&(t[s]=f)}else e[s]&&(t[s]=n)}return t}var z=e=>P(e)&&!Object.keys(e).length,Xe=e=>e.type==="file",re=e=>typeof e=="function",pe=e=>{if(!Je)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Et=e=>e.type==="select-multiple",Ze=e=>e.type==="radio",Zt=e=>Ze(e)||Ae(e),Ie=e=>pe(e)&&e.isConnected;function er(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=L(e)?s++:e[r[s++]];return e}function tr(e){for(const r in e)if(e.hasOwnProperty(r)&&!L(e[r]))return!1;return!0}function B(e,r){const t=Array.isArray(r)?r:Ee(r)?[r]:Qe(r),s=t.length===1?e:er(e,t),u=t.length-1,n=t[u];return s&&delete s[n],u!==0&&(P(s)&&z(s)||Array.isArray(s)&&tr(s))&&B(e,t.slice(0,-1)),e}var rr=e=>{for(const r in e)if(re(e[r]))return!0;return!1};function Ct(e){return Array.isArray(e)||P(e)&&!rr(e)}function ze(e,r={}){for(const t in e)Ct(e[t])?(r[t]=Array.isArray(e[t])?[]:{},ze(e[t],r[t])):G(e[t])||(r[t]=!0);return r}function me(e,r,t){t||(t=ze(r));for(const s in e)Ct(e[s])?L(r)||Ke(t[s])?t[s]=ze(e[s],Array.isArray(e[s])?[]:{}):me(e[s],G(r)?{}:r[s],t[s]):t[s]=!le(e[s],r[s]);return t}const gt={value:!1,isValid:!1},_t={value:!0,isValid:!0};var Rt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||e[0].value===""?_t:{value:e[0].value,isValid:!0}:_t:gt}return gt},Ot=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>L(e)?e:r?e===""?NaN:e&&+e:t&&Z(e)?new Date(e):s?s(e):e;const ht={isValid:!1,value:null};var Mt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ht):ht;function mt(e){const r=e.ref;return Xe(r)?r.files:Ze(r)?Mt(e.refs).value:Et(r)?[...r.selectedOptions].map(({value:t})=>t):Ae(r)?Rt(e.refs).value:Ot(L(r.value)?e.ref.value:r.value,e)}var sr=(e,r,t,s)=>{const u={};for(const n of e){const f=c(r,n);f&&O(u,n,f._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:s}},De=e=>e instanceof RegExp,Fe=e=>L(e)?e:De(e)?e.source:P(e)?De(e.value)?e.value.source:e.value:e,be=e=>({isOnSubmit:!e||e===ee.onSubmit,isOnBlur:e===ee.onBlur,isOnChange:e===ee.onChange,isOnAll:e===ee.all,isOnTouch:e===ee.onTouched});const bt="AsyncFunction";var ir=e=>!!e&&!!e.validate&&!!(re(e.validate)&&e.validate.constructor.name===bt||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===bt)),ar=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ge=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ve=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const f=c(e,n);if(f){const u=f,{_f:o}=u,F=_e(u,["_f"]);if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],n)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(ve(F,r))break}else if(P(F)&&ve(F,r))break}}};function vt(e,r,t){const s=c(e,t);if(s||Ee(t))return{error:s,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),f=c(r,n),o=c(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};u.pop()}return{name:t}}var nr=(e,r,t,s)=>{t(e);const f=e,{name:u}=f,n=_e(f,["name"]);return z(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(o=>r[o]===(!s||ee.all))},ur=(e,r,t)=>!e||!r||e===r||J(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),lr=(e,r,t,s,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?s.isOnBlur:u.isOnBlur)?!e:(t?s.isOnChange:u.isOnChange)?e:!0,or=(e,r)=>!Ce(c(e,r)).length&&B(e,r),Ut=(e,r,t)=>{const s=J(c(e,t));return O(s,"root",r[t]),O(e,t,s),e};function Vt(e,r,t="validate"){if(Z(e)||Array.isArray(e)&&e.every(Z)||X(e)&&!e)return{type:t,message:Z(e)?e:"",ref:r}}var he=e=>P(e)&&!De(e)?e:{value:e,message:""},Ye=(e,r,t,s,u,n)=>ne(void 0,null,function*(){const{ref:f,refs:o,required:F,maxLength:x,minLength:w,min:D,max:m,pattern:Q,validate:j,name:M,valueAsNumber:H,mount:oe}=e._f,S=c(t,M);if(!oe||r.has(M))return{};const U=o?o[0]:f,W=E=>{u&&U.reportValidity&&(U.setCustomValidity(X(E)?"":E||""),U.reportValidity())},g={},b=Ze(f),A=Ae(f),C=b||A,$=(H||Xe(f))&&L(f.value)&&L(S)||pe(f)&&f.value===""||S===""||Array.isArray(S)&&!S.length,se=Xt.bind(null,M,s,g),ie=(E,R,I,K=ue.maxLength,Y=ue.minLength)=>{const ae=E?R:I;g[M]=_({type:E?K:Y,message:ae,ref:f},se(E?K:Y,ae))};if(n?!Array.isArray(S)||!S.length:F&&(!C&&($||G(S))||X(S)&&!S||A&&!Rt(o).isValid||b&&!Mt(o).isValid)){const{value:E,message:R}=Z(F)?{value:!!F,message:F}:he(F);if(E&&(g[M]=_({type:ue.required,message:R,ref:U},se(ue.required,R)),!s))return W(R),g}if(!$&&(!G(D)||!G(m))){let E,R;const I=he(m),K=he(D);if(!G(S)&&!isNaN(S)){const Y=f.valueAsNumber||S&&+S;G(I.value)||(E=Y>I.value),G(K.value)||(R=Y<K.value)}else{const Y=f.valueAsDate||new Date(S),ae=xe=>new Date(new Date().toDateString()+" "+xe),Ve=f.type=="time",ge=f.type=="week";Z(I.value)&&S&&(E=Ve?ae(S)>ae(I.value):ge?S>I.value:Y>new Date(I.value)),Z(K.value)&&S&&(R=Ve?ae(S)<ae(K.value):ge?S<K.value:Y<new Date(K.value))}if((E||R)&&(ie(!!E,I.message,K.message,ue.max,ue.min),!s))return W(g[M].message),g}if((x||w)&&!$&&(Z(S)||n&&Array.isArray(S))){const E=he(x),R=he(w),I=!G(E.value)&&S.length>+E.value,K=!G(R.value)&&S.length<+R.value;if((I||K)&&(ie(I,E.message,R.message),!s))return W(g[M].message),g}if(Q&&!$&&Z(S)){const{value:E,message:R}=he(Q);if(De(E)&&!S.match(E)&&(g[M]=_({type:ue.pattern,message:R,ref:f},se(ue.pattern,R)),!s))return W(R),g}if(j){if(re(j)){const E=yield j(S,t),R=Vt(E,U);if(R&&(g[M]=_(_({},R),se(ue.validate,R.message)),!s))return W(R.message),g}else if(P(j)){let E={};for(const R in j){if(!z(E)&&!s)break;const I=Vt(yield j[R](S,t),U,R);I&&(E=_(_({},I),se(R,I.message)),W(I.message),s&&(g[M]=E))}if(!z(E)&&(g[M]=_({ref:U},E),!s))return g}}return W(!0),g});const cr={mode:ee.onSubmit,reValidateMode:ee.onChange,shouldFocusError:!0};function dr(e={}){let r=_(_({},cr),e),t={submitCount:0,isDirty:!1,isReady:!1,isLoading:re(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=P(r.defaultValues)||P(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(u),f={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,x=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let D=_({},w);const m={array:yt(),state:yt()},Q=r.criteriaMode===ee.all,j=i=>a=>{clearTimeout(x),x=setTimeout(i,a)},M=i=>ne(this,null,function*(){if(!r.disabled&&(w.isValid||D.isValid||i)){const a=r.resolver?z((yield A()).errors):yield $(s,!0);a!==t.isValid&&m.state.next({isValid:a})}}),H=(i,a)=>{!r.disabled&&(w.isValidating||w.validatingFields||D.isValidating||D.validatingFields)&&((i||Array.from(o.mount)).forEach(l=>{l&&(a?O(t.validatingFields,l,a):B(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!z(t.validatingFields)}))},oe=(i,a=[],l,h,y=!0,d=!0)=>{if(h&&l&&!r.disabled){if(f.action=!0,d&&Array.isArray(c(s,i))){const V=l(c(s,i),h.argA,h.argB);y&&O(s,i,V)}if(d&&Array.isArray(c(t.errors,i))){const V=l(c(t.errors,i),h.argA,h.argB);y&&O(t.errors,i,V),or(t.errors,i)}if((w.touchedFields||D.touchedFields)&&d&&Array.isArray(c(t.touchedFields,i))){const V=l(c(t.touchedFields,i),h.argA,h.argB);y&&O(t.touchedFields,i,V)}(w.dirtyFields||D.dirtyFields)&&(t.dirtyFields=me(u,n)),m.state.next({name:i,isDirty:ie(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else O(n,i,a)},S=(i,a)=>{O(t.errors,i,a),m.state.next({errors:t.errors})},U=i=>{t.errors=i,m.state.next({errors:t.errors,isValid:!1})},W=(i,a,l,h)=>{const y=c(s,i);if(y){const d=c(n,i,L(l)?c(u,i):l);L(d)||h&&h.defaultChecked||a?O(n,i,a?d:mt(y._f)):I(i,d),f.mount&&M()}},g=(i,a,l,h,y)=>{let d=!1,V=!1;const p={name:i};if(!r.disabled){if(!l||h){(w.isDirty||D.isDirty)&&(V=t.isDirty,t.isDirty=p.isDirty=ie(),d=V!==p.isDirty);const k=le(c(u,i),a);V=!!c(t.dirtyFields,i),k?B(t.dirtyFields,i):O(t.dirtyFields,i,!0),p.dirtyFields=t.dirtyFields,d=d||(w.dirtyFields||D.dirtyFields)&&V!==!k}if(l){const k=c(t.touchedFields,i);k||(O(t.touchedFields,i,l),p.touchedFields=t.touchedFields,d=d||(w.touchedFields||D.touchedFields)&&k!==l)}d&&y&&m.state.next(p)}return d?p:{}},b=(i,a,l,h)=>{const y=c(t.errors,i),d=(w.isValid||D.isValid)&&X(a)&&t.isValid!==a;if(r.delayError&&l?(F=j(()=>S(i,l)),F(r.delayError)):(clearTimeout(x),F=null,l?O(t.errors,i,l):B(t.errors,i)),(l?!le(y,l):y)||!z(h)||d){const V=q(_(_({},h),d&&X(a)?{isValid:a}:{}),{errors:t.errors,name:i});t=_(_({},t),V),m.state.next(V)}},A=i=>ne(this,null,function*(){H(i,!0);const a=yield r.resolver(n,r.context,sr(i||o.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return H(i),a}),C=i=>ne(this,null,function*(){const{errors:a}=yield A(i);if(i)for(const l of i){const h=c(a,l);h?O(t.errors,l,h):B(t.errors,l)}else t.errors=a;return a}),$=(h,y,...d)=>ne(this,[h,y,...d],function*(i,a,l={valid:!0}){for(const p in i){const k=i[p];if(k){const V=k,{_f:N}=V,fe=_e(V,["_f"]);if(N){const te=o.array.has(N.name),we=k._f&&ir(k._f);we&&w.validatingFields&&H([N.name],!0);const ce=yield Ye(k,o.disabled,n,Q,r.shouldUseNativeValidation&&!a,te);if(we&&w.validatingFields&&H([N.name]),ce[N.name]&&(l.valid=!1,a))break;!a&&(c(ce,N.name)?te?Ut(t.errors,ce,N.name):O(t.errors,N.name,ce[N.name]):B(t.errors,N.name))}!z(fe)&&(yield $(fe,a,l))}}return l.valid}),se=()=>{for(const i of o.unMount){const a=c(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Ie(l)):!Ie(a._f.ref))&&Me(i)}o.unMount=new Set},ie=(i,a)=>!r.disabled&&(i&&a&&O(n,i,a),!le(xe(),u)),E=(i,a,l)=>pt(i,o,_({},f.mount?n:L(a)?u:Z(i)?{[i]:a}:a),l,a),R=i=>Ce(c(f.mount?n:u,i,r.shouldUnregister?c(u,i,[]):[])),I=(i,a,l={})=>{const h=c(s,i);let y=a;if(h){const d=h._f;d&&(!d.disabled&&O(n,i,Ot(a,d)),y=pe(d.ref)&&G(a)?"":a,Et(d.ref)?[...d.ref.options].forEach(V=>V.selected=y.includes(V.value)):d.refs?Ae(d.ref)?d.refs.forEach(V=>{(!V.defaultChecked||!V.disabled)&&(Array.isArray(y)?V.checked=!!y.find(p=>p===V.value):V.checked=y===V.value||!!y)}):d.refs.forEach(V=>V.checked=V.value===y):Xe(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||m.state.next({name:i,values:T(n)})))}(l.shouldDirty||l.shouldTouch)&&g(i,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(i)},K=(i,a,l)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const y=a[h],d=i+"."+h,V=c(s,d);(o.array.has(i)||P(y)||V&&!V._f)&&!ye(y)?K(d,y,l):I(d,y,l)}},Y=(i,a,l={})=>{const h=c(s,i),y=o.array.has(i),d=T(a);O(n,i,d),y?(m.array.next({name:i,values:T(n)}),(w.isDirty||w.dirtyFields||D.isDirty||D.dirtyFields)&&l.shouldDirty&&m.state.next({name:i,dirtyFields:me(u,n),isDirty:ie(i,d)})):h&&!h._f&&!G(d)?K(i,d,l):I(i,d,l),Ge(i,o)&&m.state.next(q(_({},t),{name:i})),m.state.next({name:f.mount?i:void 0,values:T(n)})},ae=i=>ne(this,null,function*(){f.mount=!0;const a=i.target;let l=a.name,h=!0;const y=c(s,l),d=k=>{h=Number.isNaN(k)||ye(k)&&isNaN(k.getTime())||le(k,c(n,l,k))},V=be(r.mode),p=be(r.reValidateMode);if(y){let k,N;const fe=a.type?mt(y._f):xt(i),te=i.type===ke.BLUR||i.type===ke.FOCUS_OUT,we=!ar(y._f)&&!r.resolver&&!c(t.errors,l)&&!y._f.deps||lr(te,c(t.touchedFields,l),t.isSubmitted,p,V),ce=Ge(l,o,te);O(n,l,fe),te?(!a||!a.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),F&&F(0)):y._f.onChange&&y._f.onChange(i);const Le=g(l,fe,te),qt=!z(Le)||ce;if(!te&&m.state.next({name:l,type:i.type,values:T(n)}),we)return(w.isValid||D.isValid)&&(r.mode==="onBlur"?te&&M():te||M()),qt&&m.state.next(_({name:l},ce?{}:Le));if(!te&&ce&&m.state.next(_({},t)),r.resolver){const{errors:lt}=yield A([l]);if(d(fe),h){const Ht=vt(t.errors,s,l),ot=vt(lt,s,Ht.name||l);k=ot.error,l=ot.name,N=z(lt)}}else H([l],!0),k=(yield Ye(y,o.disabled,n,Q,r.shouldUseNativeValidation))[l],H([l]),d(fe),h&&(k?N=!1:(w.isValid||D.isValid)&&(N=yield $(s,!0)));h&&(y._f.deps&&(!Array.isArray(y._f.deps)||y._f.deps.length>0)&&ge(y._f.deps),b(l,N,k,Le))}}),Ve=(i,a)=>{if(c(t.errors,a)&&i.focus)return i.focus(),1},ge=(l,...h)=>ne(this,[l,...h],function*(i,a={}){let y,d;const V=J(i);if(r.resolver){const p=yield C(L(i)?i:V);y=z(p),d=i?!V.some(k=>c(p,k)):y}else i?(d=(yield Promise.all(V.map(p=>ne(this,null,function*(){const k=c(s,p);return yield $(k&&k._f?{[p]:k}:k)})))).every(Boolean),!(!d&&!t.isValid)&&M()):d=y=yield $(s);return m.state.next(q(_(_({},!Z(i)||(w.isValid||D.isValid)&&y!==t.isValid?{}:{name:i}),r.resolver||!i?{isValid:y}:{}),{errors:t.errors})),a.shouldFocus&&!d&&ve(s,Ve,i?V:o.mount),d}),xe=(i,a)=>{let l=_({},f.mount?n:u);return a&&(l=Dt(a.dirtyFields?t.dirtyFields:t.touchedFields,l)),L(i)?l:Z(i)?c(l,i):i.map(h=>c(l,h))},et=(i,a)=>({invalid:!!c((a||t).errors,i),isDirty:!!c((a||t).dirtyFields,i),error:c((a||t).errors,i),isValidating:!!c(t.validatingFields,i),isTouched:!!c((a||t).touchedFields,i)}),Tt=i=>{i&&J(i).forEach(a=>B(t.errors,a)),m.state.next({errors:i?t.errors:{}})},tt=(i,a,l)=>{const h=(c(s,i,{_f:{}})._f||{}).ref,N=c(t.errors,i)||{},{ref:d,message:V,type:p}=N,k=_e(N,["ref","message","type"]);O(t.errors,i,q(_(_({},k),a),{ref:h})),m.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Lt=(i,a)=>re(i)?m.state.subscribe({next:l=>"values"in l&&i(E(void 0,a),l)}):E(i,a,!0),rt=i=>m.state.subscribe({next:a=>{ur(i.name,a.name,i.exact)&&nr(a,i.formState||w,Wt,i.reRenderRoot)&&i.callback(q(_(_({values:_({},n)},t),a),{defaultValues:u}))}}).unsubscribe,It=i=>(f.mount=!0,D=_(_({},D),i.formState),rt(q(_({},i),{formState:D}))),Me=(i,a={})=>{for(const l of i?J(i):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(B(s,l),B(n,l)),!a.keepError&&B(t.errors,l),!a.keepDirty&&B(t.dirtyFields,l),!a.keepTouched&&B(t.touchedFields,l),!a.keepIsValidating&&B(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&B(u,l);m.state.next({values:T(n)}),m.state.next(_(_({},t),a.keepDirty?{isDirty:ie()}:{})),!a.keepIsValid&&M()},st=({disabled:i,name:a})=>{(X(i)&&f.mount||i||o.disabled.has(a))&&(i?o.disabled.add(a):o.disabled.delete(a))},Ue=(i,a={})=>{let l=c(s,i);const h=X(a.disabled)||X(r.disabled);return O(s,i,q(_({},l||{}),{_f:_(q(_({},l&&l._f?l._f:{ref:{name:i}}),{name:i,mount:!0}),a)})),o.mount.add(i),l?st({disabled:X(a.disabled)?a.disabled:r.disabled,name:i}):W(i,!0,a.value),q(_(_({},h?{disabled:a.disabled||r.disabled}:{}),r.progressive?{required:!!a.required,min:Fe(a.min),max:Fe(a.max),minLength:Fe(a.minLength),maxLength:Fe(a.maxLength),pattern:Fe(a.pattern)}:{}),{name:i,onChange:ae,onBlur:ae,ref:y=>{if(y){Ue(i,a),l=c(s,i);const d=L(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,V=Zt(d),p=l._f.refs||[];if(V?p.find(k=>k===d):d===l._f.ref)return;O(s,i,{_f:_(_({},l._f),V?{refs:[...p.filter(Ie),d,...Array.isArray(c(u,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d})}),W(i,!1,void 0,d)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(wt(o.array,i)&&f.action)&&o.unMount.add(i)}})},Te=()=>r.shouldFocusError&&ve(s,Ve,o.mount),Nt=i=>{X(i)&&(m.state.next({disabled:i}),ve(s,(a,l)=>{const h=c(s,l);h&&(a.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(y=>{y.disabled=h._f.disabled||i}))},0,!1))},it=(i,a)=>l=>ne(this,null,function*(){let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let y=T(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:V}=yield A();t.errors=d,y=T(V)}else yield $(s);if(o.disabled.size)for(const d of o.disabled)B(y,d);if(B(t.errors,"root"),z(t.errors)){m.state.next({errors:{}});try{yield i(y,l)}catch(d){h=d}}else a&&(yield a(_({},t.errors),l)),Te(),setTimeout(Te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:z(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h}),Bt=(i,a={})=>{c(s,i)&&(L(a.defaultValue)?Y(i,T(c(u,i))):(Y(i,a.defaultValue),O(u,i,T(a.defaultValue))),a.keepTouched||B(t.touchedFields,i),a.keepDirty||(B(t.dirtyFields,i),t.isDirty=a.defaultValue?ie(i,T(c(u,i))):ie()),a.keepError||(B(t.errors,i),w.isValid&&M()),m.state.next(_({},t)))},at=(i,a={})=>{const l=i?T(i):u,h=T(l),y=z(i),d=y?u:h;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const V=new Set([...o.mount,...Object.keys(me(u,n))]);for(const p of Array.from(V))c(t.dirtyFields,p)?O(d,p,c(n,p)):Y(p,c(d,p))}else{if(Je&&L(i))for(const V of o.mount){const p=c(s,V);if(p&&p._f){const k=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(pe(k)){const N=k.closest("form");if(N){N.reset();break}}}}if(a.keepFieldsRef)for(const V of o.mount)Y(V,c(d,V));else s={}}n=r.shouldUnregister?a.keepDefaultValues?T(u):{}:T(d),m.array.next({values:_({},d)}),m.state.next({values:_({},d)})}o={mount:a.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:y?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!le(i,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:a.keepDirtyValues?a.keepDefaultValues&&n?me(u,n):t.dirtyFields:a.keepDefaultValues&&i?me(u,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},nt=(i,a)=>at(re(i)?i(n):i,a),Pt=(i,a={})=>{const l=c(s,i),h=l&&l._f;if(h){const y=h.refs?h.refs[0]:h.ref;y.focus&&(y.focus(),a.shouldSelect&&re(y.select)&&y.select())}},Wt=i=>{t=_(_({},t),i)},ut={control:{register:Ue,unregister:Me,getFieldState:et,handleSubmit:it,setError:tt,_subscribe:rt,_runSchema:A,_focusError:Te,_getWatch:E,_getDirty:ie,_setValid:M,_setFieldArray:oe,_setDisabledField:st,_setErrors:U,_getFieldArray:R,_reset:at,_resetDefaultValues:()=>re(r.defaultValues)&&r.defaultValues().then(i=>{nt(i,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Nt,_subjects:m,_proxyFormState:w,get _fields(){return s},get _formValues(){return n},get _state(){return f},set _state(i){f=i},get _defaultValues(){return u},get _names(){return o},set _names(i){o=i},get _formState(){return t},get _options(){return r},set _options(i){r=_(_({},r),i)}},subscribe:It,trigger:ge,register:Ue,handleSubmit:it,watch:Lt,setValue:Y,getValues:xe,reset:nt,resetField:Bt,clearErrors:Tt,unregister:Me,setError:tt,setFocus:Pt,getFieldState:et};return q(_({},ut),{formControl:ut})}var de=()=>{if(typeof crypto!="undefined"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance=="undefined"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Ne=(e,r,t={})=>t.shouldFocus||L(t.shouldFocus)?t.focusName||`${e}.${L(t.focusIndex)?r:t.focusIndex}.`:"",Be=(e,r)=>[...e,...J(r)],Pe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function We(e,r,t){return[...e.slice(0,r),...J(t),...e.slice(r)]}var qe=(e,r,t)=>Array.isArray(e)?(L(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],He=(e,r)=>[...J(r),...J(e)];function fr(e,r){let t=0;const s=[...e];for(const u of r)s.splice(u-t,1),t++;return Ce(s).length?s:[]}var $e=(e,r)=>L(r)?[]:fr(e,J(r).sort((t,s)=>t-s)),je=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},Ft=(e,r,t)=>(e[r]=t,e);function mr(e){const r=Re(),{control:t=r.control,name:s,keyName:u="id",shouldUnregister:n,rules:f}=e,[o,F]=v.useState(t._getFieldArray(s)),x=v.useRef(t._getFieldArray(s).map(de)),w=v.useRef(o),D=v.useRef(!1);w.current=o,t._names.array.add(s),v.useMemo(()=>f&&t.register(s,f),[t,f,s]),Oe(()=>t._subjects.array.subscribe({next:({values:g,name:b})=>{if(b===s||!b){const A=c(g,s);Array.isArray(A)&&(F(A),x.current=A.map(de))}}}).unsubscribe,[t,s]);const m=v.useCallback(g=>{D.current=!0,t._setFieldArray(s,g)},[t,s]),Q=(g,b)=>{const A=J(T(g)),C=Be(t._getFieldArray(s),A);t._names.focus=Ne(s,C.length-1,b),x.current=Be(x.current,A.map(de)),m(C),F(C),t._setFieldArray(s,C,Be,{argA:Pe(g)})},j=(g,b)=>{const A=J(T(g)),C=He(t._getFieldArray(s),A);t._names.focus=Ne(s,0,b),x.current=He(x.current,A.map(de)),m(C),F(C),t._setFieldArray(s,C,He,{argA:Pe(g)})},M=g=>{const b=$e(t._getFieldArray(s),g);x.current=$e(x.current,g),m(b),F(b),!Array.isArray(c(t._fields,s))&&O(t._fields,s,void 0),t._setFieldArray(s,b,$e,{argA:g})},H=(g,b,A)=>{const C=J(T(b)),$=We(t._getFieldArray(s),g,C);t._names.focus=Ne(s,g,A),x.current=We(x.current,g,C.map(de)),m($),F($),t._setFieldArray(s,$,We,{argA:g,argB:Pe(b)})},oe=(g,b)=>{const A=t._getFieldArray(s);je(A,g,b),je(x.current,g,b),m(A),F(A),t._setFieldArray(s,A,je,{argA:g,argB:b},!1)},S=(g,b)=>{const A=t._getFieldArray(s);qe(A,g,b),qe(x.current,g,b),m(A),F(A),t._setFieldArray(s,A,qe,{argA:g,argB:b},!1)},U=(g,b)=>{const A=T(b),C=Ft(t._getFieldArray(s),g,A);x.current=[...C].map(($,se)=>!$||se===g?de():x.current[se]),m(C),F([...C]),t._setFieldArray(s,C,Ft,{argA:g,argB:A},!0,!1)},W=g=>{const b=J(T(g));x.current=b.map(de),m([...b]),F([...b]),t._setFieldArray(s,[...b],A=>A,{},!0,!1)};return v.useEffect(()=>{if(t._state.action=!1,Ge(s,t._names)&&t._subjects.state.next(_({},t._formState)),D.current&&(!be(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!be(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([s]).then(g=>{const b=c(g.errors,s),A=c(t._formState.errors,s);(A?!b&&A.type||b&&(A.type!==b.type||A.message!==b.message):b&&b.type)&&(b?O(t._formState.errors,s,b):B(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const g=c(t._fields,s);g&&g._f&&!(be(t._options.reValidateMode).isOnSubmit&&be(t._options.mode).isOnSubmit)&&Ye(g,t._names.disabled,t._formValues,t._options.criteriaMode===ee.all,t._options.shouldUseNativeValidation,!0).then(b=>!z(b)&&t._subjects.state.next({errors:Ut(t._formState.errors,b,s)}))}t._subjects.state.next({name:s,values:T(t._formValues)}),t._names.focus&&ve(t._fields,(g,b)=>{if(t._names.focus&&b.startsWith(t._names.focus)&&g.focus)return g.focus(),1}),t._names.focus="",t._setValid(),D.current=!1},[o,s,t]),v.useEffect(()=>(!c(t._formValues,s)&&t._setFieldArray(s),()=>{const g=(b,A)=>{const C=c(t._fields,b);C&&C._f&&(C._f.mount=A)};t._options.shouldUnregister||n?t.unregister(s):g(s,!1)}),[s,t,u,n]),{swap:v.useCallback(oe,[m,s,t]),move:v.useCallback(S,[m,s,t]),prepend:v.useCallback(j,[m,s,t]),append:v.useCallback(Q,[m,s,t]),remove:v.useCallback(M,[m,s,t]),insert:v.useCallback(H,[m,s,t]),update:v.useCallback(U,[m,s,t]),replace:v.useCallback(W,[m,s,t]),fields:v.useMemo(()=>o.map((g,b)=>q(_({},g),{[u]:x.current[b]||de()})),[o,u])}}function br(e={}){const r=v.useRef(void 0),t=v.useRef(void 0),[s,u]=v.useState({isDirty:!1,isValidating:!1,isLoading:re(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:re(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current=q(_({},e.formControl),{formState:s}),e.defaultValues&&!re(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const f=dr(e),{formControl:o}=f,F=_e(f,["formControl"]);r.current=q(_({},F),{formState:s})}const n=r.current.control;return n._options=e,Oe(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u(_({},n._formState)),reRenderRoot:!0});return u(F=>q(_({},F),{isReady:!0})),n._formState.isReady=!0,o},[n]),v.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),v.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),v.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),v.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),v.useEffect(()=>{e.values&&!le(e.values,t.current)?(n._reset(e.values,_({keepFieldsRef:!0},n._options.resetOptions)),t.current=e.values,u(o=>_({},o))):n._resetDefaultValues()},[n,e.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next(_({},n._formState))),n._removeUnmounted()}),r.current.formState=kt(s,n),r.current}export{hr as C,Jt as a,Xt as b,mr as c,c as g,O as s,br as u};
