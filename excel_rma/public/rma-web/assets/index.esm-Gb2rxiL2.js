var jt=Object.defineProperty,Kt=Object.defineProperties;var zt=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var dt=(e,r,t)=>r in e?jt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,g=(e,r)=>{for(var t in r||(r={}))ft.call(r,t)&&dt(e,t,r[t]);if(we)for(var t of we(r))yt.call(r,t)&&dt(e,t,r[t]);return e},W=(e,r)=>Kt(e,zt(r));var _e=(e,r)=>{var t={};for(var s in e)ft.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&we)for(var s of we(e))r.indexOf(s)<0&&yt.call(e,s)&&(t[s]=e[s]);return t};var ae=(e,r,t)=>new Promise((s,u)=>{var n=F=>{try{o(t.next(F))}catch(x){u(x)}},f=F=>{try{o(t.throw(F))}catch(x){u(x)}},o=F=>F.done?s(F.value):Promise.resolve(F.value).then(n,f);o((t=t.apply(e,r)).next())});import{R as V}from"./index-QPILswrD.js";var Ae=e=>e.type==="checkbox",ye=e=>e instanceof Date,G=e=>e==null;const xt=e=>typeof e=="object";var N=e=>!G(e)&&!Array.isArray(e)&&xt(e)&&!ye(e),St=e=>N(e)&&e.target?Ae(e.target)?e.target.checked:e.target.value:e,Gt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wt=(e,r)=>e.has(Gt(r)),Yt=e=>{const r=e.constructor&&e.constructor.prototype;return N(r)&&r.hasOwnProperty("isPrototypeOf")},Qe=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function R(e){let r;const t=Array.isArray(e),s=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Qe&&(e instanceof Blob||s))&&(t||N(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Yt(e))r=e;else for(const u in e)e.hasOwnProperty(u)&&(r[u]=R(e[u]));else return e;return r}var Me=e=>/^\w*$/.test(e),U=e=>e===void 0,Oe=e=>Array.isArray(e)?e.filter(Boolean):[],Xe=e=>Oe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),c=(e,r,t)=>{if(!r||!N(e))return t;const s=(Me(r)?[r]:Xe(r)).reduce((u,n)=>G(u)?u:u[n],e);return U(s)||s===e?U(e[r])?t:e[r]:s},X=e=>typeof e=="boolean",M=(e,r,t)=>{let s=-1;const u=Me(r)?[r]:Xe(r),n=u.length,f=n-1;for(;++s<n;){const o=u[s];let F=t;if(s!==f){const x=e[o];F=N(x)||Array.isArray(x)?x:isNaN(+u[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=F,e=e[o]}};const De={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kt=V.createContext(null);kt.displayName="HookFormContext";const Re=()=>V.useContext(kt);var Dt=(e,r,t,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const f=n;return r._proxyFormState[f]!==Z.all&&(r._proxyFormState[f]=!s||Z.all),t&&(t[f]=!0),e[f]}});return u};const Ue=typeof window!="undefined"?V.useLayoutEffect:V.useEffect;function Jt(e){const r=Re(),{control:t=r.control,disabled:s,name:u,exact:n}=e||{},[f,o]=V.useState(t._formState),F=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ue(()=>t._subscribe({name:u,formState:F.current,exact:n,callback:x=>{!s&&o(g(g({},t._formState),x))}}),[u,s,n]),V.useEffect(()=>{F.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>Dt(f,t,F.current,!1),[f,t])}var ue=e=>typeof e=="string",pt=(e,r,t,s,u)=>ue(e)?(s&&r.watch.add(e),c(t,e,u)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),c(t,n))):(s&&(r.watchAll=!0),t),Ge=e=>G(e)||!xt(e);function le(e,r,t=new WeakSet){if(Ge(e)||Ge(r))return e===r;if(ye(e)&&ye(r))return e.getTime()===r.getTime();const s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of s){const f=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const o=r[n];if(ye(f)&&ye(o)||N(f)&&N(o)||Array.isArray(f)&&Array.isArray(o)?!le(f,o,t):f!==o)return!1}}return!0}function Qt(e){const r=Re(),{control:t=r.control,name:s,defaultValue:u,disabled:n,exact:f,compute:o}=e||{},F=V.useRef(u),x=V.useRef(o),w=V.useRef(void 0);x.current=o;const p=V.useMemo(()=>t._getWatch(s,F.current),[t,s]),[m,Q]=V.useState(x.current?x.current(p):p);return Ue(()=>t._subscribe({name:s,formState:{values:!0},exact:f,callback:j=>{if(!n){const O=pt(s,t._names,j.values||t._formValues,!1,F.current);if(x.current){const q=x.current(O);le(q,w.current)||(Q(q),w.current=q)}else Q(O)}}}),[t,n,s,f]),V.useEffect(()=>t._removeUnmounted()),m}function Xt(e){const r=Re(),{name:t,disabled:s,control:u=r.control,shouldUnregister:n,defaultValue:f}=e,o=wt(u._names.array,t),F=V.useMemo(()=>c(u._formValues,t,c(u._defaultValues,t,f)),[u,t,f]),x=Qt({control:u,name:t,defaultValue:F,exact:!0}),w=Jt({control:u,name:t,exact:!0}),p=V.useRef(e),m=V.useRef(u.register(t,g(W(g({},e.rules),{value:x}),X(e.disabled)?{disabled:e.disabled}:{})));p.current=e;const Q=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(w.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(w.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(w.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(w.validatingFields,t)},error:{enumerable:!0,get:()=>c(w.errors,t)}}),[w,t]),j=V.useCallback(A=>m.current.onChange({target:{value:St(A),name:t},type:De.CHANGE}),[t]),O=V.useCallback(()=>m.current.onBlur({target:{value:c(u._formValues,t),name:t},type:De.BLUR}),[t,u._formValues]),q=V.useCallback(A=>{const H=c(u._fields,t);H&&A&&(H._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:B=>A.setCustomValidity(B),reportValidity:()=>A.reportValidity()})},[u._fields,t]),oe=V.useMemo(()=>W(g({name:t,value:x},X(s)||w.disabled?{disabled:w.disabled||s}:{}),{onChange:j,onBlur:O,ref:q}),[t,s,w.disabled,j,O,q,x]);return V.useEffect(()=>{const A=u._options.shouldUnregister||n;u.register(t,g(g({},p.current.rules),X(p.current.disabled)?{disabled:p.current.disabled}:{}));const H=(B,_)=>{const v=c(u._fields,B);v&&v._f&&(v._f.mount=_)};if(H(t,!0),A){const B=R(c(u._options.defaultValues,t));M(u._defaultValues,t,B),U(c(u._formValues,t))&&M(u._formValues,t,B)}return!o&&u.register(t),()=>{(o?A&&!u._state.action:A)?u.unregister(t):H(t,!1)}},[t,u,o,n]),V.useEffect(()=>{u._setDisabledField({disabled:s,name:t})},[s,t,u]),V.useMemo(()=>({field:oe,formState:w,fieldState:Q}),[oe,w,Q])}const hr=e=>e.render(Xt(e));var Zt=(e,r,t,s,u)=>r?W(g({},t[e]),{types:W(g({},t[e]&&t[e].types?t[e].types:{}),{[s]:u||!0})}):{},J=e=>Array.isArray(e)?e:[e],gt=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},z=e=>N(e)&&!Object.keys(e).length,Ze=e=>e.type==="file",te=e=>typeof e=="function",pe=e=>{if(!Qe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Et=e=>e.type==="select-multiple",et=e=>e.type==="radio",er=e=>et(e)||Ae(e),Be=e=>pe(e)&&e.isConnected;function tr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=U(e)?s++:e[r[s++]];return e}function rr(e){for(const r in e)if(e.hasOwnProperty(r)&&!U(e[r]))return!1;return!0}function I(e,r){const t=Array.isArray(r)?r:Me(r)?[r]:Xe(r),s=t.length===1?e:tr(e,t),u=t.length-1,n=t[u];return s&&delete s[n],u!==0&&(N(s)&&z(s)||Array.isArray(s)&&rr(s))&&I(e,t.slice(0,-1)),e}var Ct=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function Ee(e,r={}){const t=Array.isArray(e);if(N(e)||t)for(const s in e)Array.isArray(e[s])||N(e[s])&&!Ct(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ee(e[s],r[s])):G(e[s])||(r[s]=!0);return r}function Mt(e,r,t){const s=Array.isArray(e);if(N(e)||s)for(const u in e)Array.isArray(e[u])||N(e[u])&&!Ct(e[u])?U(r)||Ge(t[u])?t[u]=Array.isArray(e[u])?Ee(e[u],[]):g({},Ee(e[u])):Mt(e[u],G(r)?{}:r[u],t[u]):t[u]=!le(e[u],r[u]);return t}var Ve=(e,r)=>Mt(e,r,Ee(r));const _t={value:!1,isValid:!1},ht={value:!0,isValid:!0};var Ot=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!U(e[0].attributes.value)?U(e[0].value)||e[0].value===""?ht:{value:e[0].value,isValid:!0}:ht:_t}return _t},Rt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>U(e)?e:r?e===""?NaN:e&&+e:t&&ue(e)?new Date(e):s?s(e):e;const mt={isValid:!1,value:null};var Ut=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,mt):mt;function vt(e){const r=e.ref;return Ze(r)?r.files:et(r)?Ut(e.refs).value:Et(r)?[...r.selectedOptions].map(({value:t})=>t):Ae(r)?Ot(e.refs).value:Rt(U(r.value)?e.ref.value:r.value,e)}var sr=(e,r,t,s)=>{const u={};for(const n of e){const f=c(r,n);f&&M(u,n,f._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:s}},Ce=e=>e instanceof RegExp,Fe=e=>U(e)?e:Ce(e)?e.source:N(e)?Ce(e.value)?e.value.source:e.value:e,me=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched});const bt="AsyncFunction";var ir=e=>!!e&&!!e.validate&&!!(te(e.validate)&&e.validate.constructor.name===bt||N(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===bt)),ar=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ye=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ve=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const f=c(e,n);if(f){const u=f,{_f:o}=u,F=_e(u,["_f"]);if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],n)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(ve(F,r))break}else if(N(F)&&ve(F,r))break}}};function Vt(e,r,t){const s=c(e,t);if(s||Me(t))return{error:s,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),f=c(r,n),o=c(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};u.pop()}return{name:t}}var ur=(e,r,t,s)=>{t(e);const f=e,{name:u}=f,n=_e(f,["name"]);return z(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(o=>r[o]===(!s||Z.all))},nr=(e,r,t)=>!e||!r||e===r||J(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),lr=(e,r,t,s,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?s.isOnBlur:u.isOnBlur)?!e:(t?s.isOnChange:u.isOnChange)?e:!0,or=(e,r)=>!Oe(c(e,r)).length&&I(e,r),Lt=(e,r,t)=>{const s=J(c(e,t));return M(s,"root",r[t]),M(e,t,s),e},ke=e=>ue(e);function Ft(e,r,t="validate"){if(ke(e)||Array.isArray(e)&&e.every(ke)||X(e)&&!e)return{type:t,message:ke(e)?e:"",ref:r}}var he=e=>N(e)&&!Ce(e)?e:{value:e,message:""},Je=(e,r,t,s,u,n)=>ae(void 0,null,function*(){const{ref:f,refs:o,required:F,maxLength:x,minLength:w,min:p,max:m,pattern:Q,validate:j,name:O,valueAsNumber:q,mount:oe}=e._f,A=c(t,O);if(!oe||r.has(O))return{};const H=o?o[0]:f,B=E=>{u&&H.reportValidity&&(H.setCustomValidity(X(E)?"":E||""),H.reportValidity())},_={},v=et(f),S=Ae(f),L=v||S,$=(q||Ze(f))&&U(f.value)&&U(A)||pe(f)&&f.value===""||A===""||Array.isArray(A)&&!A.length,re=Zt.bind(null,O,s,_),se=(E,C,T,K=ne.maxLength,Y=ne.minLength)=>{const ie=E?C:T;_[O]=g({type:E?K:Y,message:ie,ref:f},re(E?K:Y,ie))};if(n?!Array.isArray(A)||!A.length:F&&(!L&&($||G(A))||X(A)&&!A||S&&!Ot(o).isValid||v&&!Ut(o).isValid)){const{value:E,message:C}=ke(F)?{value:!!F,message:F}:he(F);if(E&&(_[O]=g({type:ne.required,message:C,ref:H},re(ne.required,C)),!s))return B(C),_}if(!$&&(!G(p)||!G(m))){let E,C;const T=he(m),K=he(p);if(!G(A)&&!isNaN(A)){const Y=f.valueAsNumber||A&&+A;G(T.value)||(E=Y>T.value),G(K.value)||(C=Y<K.value)}else{const Y=f.valueAsDate||new Date(A),ie=xe=>new Date(new Date().toDateString()+" "+xe),be=f.type=="time",ge=f.type=="week";ue(T.value)&&A&&(E=be?ie(A)>ie(T.value):ge?A>T.value:Y>new Date(T.value)),ue(K.value)&&A&&(C=be?ie(A)<ie(K.value):ge?A<K.value:Y<new Date(K.value))}if((E||C)&&(se(!!E,T.message,K.message,ne.max,ne.min),!s))return B(_[O].message),_}if((x||w)&&!$&&(ue(A)||n&&Array.isArray(A))){const E=he(x),C=he(w),T=!G(E.value)&&A.length>+E.value,K=!G(C.value)&&A.length<+C.value;if((T||K)&&(se(T,E.message,C.message),!s))return B(_[O].message),_}if(Q&&!$&&ue(A)){const{value:E,message:C}=he(Q);if(Ce(E)&&!A.match(E)&&(_[O]=g({type:ne.pattern,message:C,ref:f},re(ne.pattern,C)),!s))return B(C),_}if(j){if(te(j)){const E=yield j(A,t),C=Ft(E,H);if(C&&(_[O]=g(g({},C),re(ne.validate,C.message)),!s))return B(C.message),_}else if(N(j)){let E={};for(const C in j){if(!z(E)&&!s)break;const T=Ft(yield j[C](A,t),H,C);T&&(E=g(g({},T),re(C,T.message)),B(T.message),s&&(_[O]=E))}if(!z(E)&&(_[O]=g({ref:H},E),!s))return _}}return B(!0),_});const cr={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function dr(e={}){let r=g(g({},cr),e),t={submitCount:0,isDirty:!1,isReady:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=N(r.defaultValues)||N(r.values)?R(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:R(u),f={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,x=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p=g({},w);const m={array:gt(),state:gt()},Q=r.criteriaMode===Z.all,j=i=>a=>{clearTimeout(x),x=setTimeout(i,a)},O=i=>ae(this,null,function*(){if(!r.disabled&&(w.isValid||p.isValid||i)){const a=r.resolver?z((yield S()).errors):yield $(s,!0);a!==t.isValid&&m.state.next({isValid:a})}}),q=(i,a)=>{!r.disabled&&(w.isValidating||w.validatingFields||p.isValidating||p.validatingFields)&&((i||Array.from(o.mount)).forEach(l=>{l&&(a?M(t.validatingFields,l,a):I(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!z(t.validatingFields)}))},oe=(i,a=[],l,h,y=!0,d=!0)=>{if(h&&l&&!r.disabled){if(f.action=!0,d&&Array.isArray(c(s,i))){const b=l(c(s,i),h.argA,h.argB);y&&M(s,i,b)}if(d&&Array.isArray(c(t.errors,i))){const b=l(c(t.errors,i),h.argA,h.argB);y&&M(t.errors,i,b),or(t.errors,i)}if((w.touchedFields||p.touchedFields)&&d&&Array.isArray(c(t.touchedFields,i))){const b=l(c(t.touchedFields,i),h.argA,h.argB);y&&M(t.touchedFields,i,b)}(w.dirtyFields||p.dirtyFields)&&(t.dirtyFields=Ve(u,n)),m.state.next({name:i,isDirty:se(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else M(n,i,a)},A=(i,a)=>{M(t.errors,i,a),m.state.next({errors:t.errors})},H=i=>{t.errors=i,m.state.next({errors:t.errors,isValid:!1})},B=(i,a,l,h)=>{const y=c(s,i);if(y){const d=c(n,i,U(l)?c(u,i):l);U(d)||h&&h.defaultChecked||a?M(n,i,a?d:vt(y._f)):T(i,d),f.mount&&O()}},_=(i,a,l,h,y)=>{let d=!1,b=!1;const k={name:i};if(!r.disabled){if(!l||h){(w.isDirty||p.isDirty)&&(b=t.isDirty,t.isDirty=k.isDirty=se(),d=b!==k.isDirty);const D=le(c(u,i),a);b=!!c(t.dirtyFields,i),D?I(t.dirtyFields,i):M(t.dirtyFields,i,!0),k.dirtyFields=t.dirtyFields,d=d||(w.dirtyFields||p.dirtyFields)&&b!==!D}if(l){const D=c(t.touchedFields,i);D||(M(t.touchedFields,i,l),k.touchedFields=t.touchedFields,d=d||(w.touchedFields||p.touchedFields)&&D!==l)}d&&y&&m.state.next(k)}return d?k:{}},v=(i,a,l,h)=>{const y=c(t.errors,i),d=(w.isValid||p.isValid)&&X(a)&&t.isValid!==a;if(r.delayError&&l?(F=j(()=>A(i,l)),F(r.delayError)):(clearTimeout(x),F=null,l?M(t.errors,i,l):I(t.errors,i)),(l?!le(y,l):y)||!z(h)||d){const b=W(g(g({},h),d&&X(a)?{isValid:a}:{}),{errors:t.errors,name:i});t=g(g({},t),b),m.state.next(b)}},S=i=>ae(this,null,function*(){q(i,!0);const a=yield r.resolver(n,r.context,sr(i||o.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return q(i),a}),L=i=>ae(this,null,function*(){const{errors:a}=yield S(i);if(i)for(const l of i){const h=c(a,l);h?M(t.errors,l,h):I(t.errors,l)}else t.errors=a;return a}),$=(h,y,...d)=>ae(this,[h,y,...d],function*(i,a,l={valid:!0}){for(const k in i){const D=i[k];if(D){const b=D,{_f:P}=b,fe=_e(b,["_f"]);if(P){const ee=o.array.has(P.name),Se=D._f&&ir(D._f);Se&&w.validatingFields&&q([k],!0);const ce=yield Je(D,o.disabled,n,Q,r.shouldUseNativeValidation&&!a,ee);if(Se&&w.validatingFields&&q([k]),ce[P.name]&&(l.valid=!1,a))break;!a&&(c(ce,P.name)?ee?Lt(t.errors,ce,P.name):M(t.errors,P.name,ce[P.name]):I(t.errors,P.name))}!z(fe)&&(yield $(fe,a,l))}}return l.valid}),re=()=>{for(const i of o.unMount){const a=c(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Be(l)):!Be(a._f.ref))&&Le(i)}o.unMount=new Set},se=(i,a)=>!r.disabled&&(i&&a&&M(n,i,a),!le(xe(),u)),E=(i,a,l)=>pt(i,o,g({},f.mount?n:U(a)?u:ue(i)?{[i]:a}:a),l,a),C=i=>Oe(c(f.mount?n:u,i,r.shouldUnregister?c(u,i,[]):[])),T=(i,a,l={})=>{const h=c(s,i);let y=a;if(h){const d=h._f;d&&(!d.disabled&&M(n,i,Rt(a,d)),y=pe(d.ref)&&G(a)?"":a,Et(d.ref)?[...d.ref.options].forEach(b=>b.selected=y.includes(b.value)):d.refs?Ae(d.ref)?d.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(y)?b.checked=!!y.find(k=>k===b.value):b.checked=y===b.value||!!y)}):d.refs.forEach(b=>b.checked=b.value===y):Ze(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||m.state.next({name:i,values:R(n)})))}(l.shouldDirty||l.shouldTouch)&&_(i,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(i)},K=(i,a,l)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const y=a[h],d=i+"."+h,b=c(s,d);(o.array.has(i)||N(y)||b&&!b._f)&&!ye(y)?K(d,y,l):T(d,y,l)}},Y=(i,a,l={})=>{const h=c(s,i),y=o.array.has(i),d=R(a);M(n,i,d),y?(m.array.next({name:i,values:R(n)}),(w.isDirty||w.dirtyFields||p.isDirty||p.dirtyFields)&&l.shouldDirty&&m.state.next({name:i,dirtyFields:Ve(u,n),isDirty:se(i,d)})):h&&!h._f&&!G(d)?K(i,d,l):T(i,d,l),Ye(i,o)&&m.state.next(W(g({},t),{name:i})),m.state.next({name:f.mount?i:void 0,values:R(n)})},ie=i=>ae(this,null,function*(){f.mount=!0;const a=i.target;let l=a.name,h=!0;const y=c(s,l),d=D=>{h=Number.isNaN(D)||ye(D)&&isNaN(D.getTime())||le(D,c(n,l,D))},b=me(r.mode),k=me(r.reValidateMode);if(y){let D,P;const fe=a.type?vt(y._f):St(i),ee=i.type===De.BLUR||i.type===De.FOCUS_OUT,Se=!ar(y._f)&&!r.resolver&&!c(t.errors,l)&&!y._f.deps||lr(ee,c(t.touchedFields,l),t.isSubmitted,k,b),ce=Ye(l,o,ee);M(n,l,fe),ee?(!a||!a.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),F&&F(0)):y._f.onChange&&y._f.onChange(i);const Ne=_(l,fe,ee),Ht=!z(Ne)||ce;if(!ee&&m.state.next({name:l,type:i.type,values:R(n)}),Se)return(w.isValid||p.isValid)&&(r.mode==="onBlur"?ee&&O():ee||O()),Ht&&m.state.next(g({name:l},ce?{}:Ne));if(!ee&&ce&&m.state.next(g({},t)),r.resolver){const{errors:ot}=yield S([l]);if(d(fe),h){const $t=Vt(t.errors,s,l),ct=Vt(ot,s,$t.name||l);D=ct.error,l=ct.name,P=z(ot)}}else q([l],!0),D=(yield Je(y,o.disabled,n,Q,r.shouldUseNativeValidation))[l],q([l]),d(fe),h&&(D?P=!1:(w.isValid||p.isValid)&&(P=yield $(s,!0)));h&&(y._f.deps&&ge(y._f.deps),v(l,P,D,Ne))}}),be=(i,a)=>{if(c(t.errors,a)&&i.focus)return i.focus(),1},ge=(l,...h)=>ae(this,[l,...h],function*(i,a={}){let y,d;const b=J(i);if(r.resolver){const k=yield L(U(i)?i:b);y=z(k),d=i?!b.some(D=>c(k,D)):y}else i?(d=(yield Promise.all(b.map(k=>ae(this,null,function*(){const D=c(s,k);return yield $(D&&D._f?{[k]:D}:D)})))).every(Boolean),!(!d&&!t.isValid)&&O()):d=y=yield $(s);return m.state.next(W(g(g({},!ue(i)||(w.isValid||p.isValid)&&y!==t.isValid?{}:{name:i}),r.resolver||!i?{isValid:y}:{}),{errors:t.errors})),a.shouldFocus&&!d&&ve(s,be,i?b:o.mount),d}),xe=i=>{const a=g({},f.mount?n:u);return U(i)?a:ue(i)?c(a,i):i.map(l=>c(a,l))},tt=(i,a)=>({invalid:!!c((a||t).errors,i),isDirty:!!c((a||t).dirtyFields,i),error:c((a||t).errors,i),isValidating:!!c(t.validatingFields,i),isTouched:!!c((a||t).touchedFields,i)}),Tt=i=>{i&&J(i).forEach(a=>I(t.errors,a)),m.state.next({errors:i?t.errors:{}})},rt=(i,a,l)=>{const h=(c(s,i,{_f:{}})._f||{}).ref,P=c(t.errors,i)||{},{ref:d,message:b,type:k}=P,D=_e(P,["ref","message","type"]);M(t.errors,i,W(g(g({},D),a),{ref:h})),m.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},It=(i,a)=>te(i)?m.state.subscribe({next:l=>"values"in l&&i(E(void 0,a),l)}):E(i,a,!0),st=i=>m.state.subscribe({next:a=>{nr(i.name,a.name,i.exact)&&ur(a,i.formState||w,qt,i.reRenderRoot)&&i.callback(W(g(g({values:g({},n)},t),a),{defaultValues:u}))}}).unsubscribe,Nt=i=>(f.mount=!0,p=g(g({},p),i.formState),st(W(g({},i),{formState:p}))),Le=(i,a={})=>{for(const l of i?J(i):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(I(s,l),I(n,l)),!a.keepError&&I(t.errors,l),!a.keepDirty&&I(t.dirtyFields,l),!a.keepTouched&&I(t.touchedFields,l),!a.keepIsValidating&&I(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&I(u,l);m.state.next({values:R(n)}),m.state.next(g(g({},t),a.keepDirty?{isDirty:se()}:{})),!a.keepIsValid&&O()},it=({disabled:i,name:a})=>{(X(i)&&f.mount||i||o.disabled.has(a))&&(i?o.disabled.add(a):o.disabled.delete(a))},Te=(i,a={})=>{let l=c(s,i);const h=X(a.disabled)||X(r.disabled);return M(s,i,W(g({},l||{}),{_f:g(W(g({},l&&l._f?l._f:{ref:{name:i}}),{name:i,mount:!0}),a)})),o.mount.add(i),l?it({disabled:X(a.disabled)?a.disabled:r.disabled,name:i}):B(i,!0,a.value),W(g(g({},h?{disabled:a.disabled||r.disabled}:{}),r.progressive?{required:!!a.required,min:Fe(a.min),max:Fe(a.max),minLength:Fe(a.minLength),maxLength:Fe(a.maxLength),pattern:Fe(a.pattern)}:{}),{name:i,onChange:ie,onBlur:ie,ref:y=>{if(y){Te(i,a),l=c(s,i);const d=U(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,b=er(d),k=l._f.refs||[];if(b?k.find(D=>D===d):d===l._f.ref)return;M(s,i,{_f:g(g({},l._f),b?{refs:[...k.filter(Be),d,...Array.isArray(c(u,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d})}),B(i,!1,void 0,d)}else l=c(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(wt(o.array,i)&&f.action)&&o.unMount.add(i)}})},Ie=()=>r.shouldFocusError&&ve(s,be,o.mount),Bt=i=>{X(i)&&(m.state.next({disabled:i}),ve(s,(a,l)=>{const h=c(s,l);h&&(a.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(y=>{y.disabled=h._f.disabled||i}))},0,!1))},at=(i,a)=>l=>ae(this,null,function*(){let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let y=R(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:b}=yield S();t.errors=d,y=R(b)}else yield $(s);if(o.disabled.size)for(const d of o.disabled)I(y,d);if(I(t.errors,"root"),z(t.errors)){m.state.next({errors:{}});try{yield i(y,l)}catch(d){h=d}}else a&&(yield a(g({},t.errors),l)),Ie(),setTimeout(Ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:z(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h}),Pt=(i,a={})=>{c(s,i)&&(U(a.defaultValue)?Y(i,R(c(u,i))):(Y(i,a.defaultValue),M(u,i,R(a.defaultValue))),a.keepTouched||I(t.touchedFields,i),a.keepDirty||(I(t.dirtyFields,i),t.isDirty=a.defaultValue?se(i,R(c(u,i))):se()),a.keepError||(I(t.errors,i),w.isValid&&O()),m.state.next(g({},t)))},ut=(i,a={})=>{const l=i?R(i):u,h=R(l),y=z(i),d=y?u:h;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const b=new Set([...o.mount,...Object.keys(Ve(u,n))]);for(const k of Array.from(b))c(t.dirtyFields,k)?M(d,k,c(n,k)):Y(k,c(d,k))}else{if(Qe&&U(i))for(const b of o.mount){const k=c(s,b);if(k&&k._f){const D=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(pe(D)){const P=D.closest("form");if(P){P.reset();break}}}}if(a.keepFieldsRef)for(const b of o.mount)Y(b,c(d,b));else s={}}n=r.shouldUnregister?a.keepDefaultValues?R(u):{}:R(d),m.array.next({values:g({},d)}),m.state.next({values:g({},d)})}o={mount:a.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:y?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!le(i,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:a.keepDirtyValues?a.keepDefaultValues&&n?Ve(u,n):t.dirtyFields:a.keepDefaultValues&&i?Ve(u,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},nt=(i,a)=>ut(te(i)?i(n):i,a),Wt=(i,a={})=>{const l=c(s,i),h=l&&l._f;if(h){const y=h.refs?h.refs[0]:h.ref;y.focus&&(y.focus(),a.shouldSelect&&te(y.select)&&y.select())}},qt=i=>{t=g(g({},t),i)},lt={control:{register:Te,unregister:Le,getFieldState:tt,handleSubmit:at,setError:rt,_subscribe:st,_runSchema:S,_focusError:Ie,_getWatch:E,_getDirty:se,_setValid:O,_setFieldArray:oe,_setDisabledField:it,_setErrors:H,_getFieldArray:C,_reset:ut,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(i=>{nt(i,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:Bt,_subjects:m,_proxyFormState:w,get _fields(){return s},get _formValues(){return n},get _state(){return f},set _state(i){f=i},get _defaultValues(){return u},get _names(){return o},set _names(i){o=i},get _formState(){return t},get _options(){return r},set _options(i){r=g(g({},r),i)}},subscribe:Nt,trigger:ge,register:Te,handleSubmit:at,watch:It,setValue:Y,getValues:xe,reset:nt,resetField:Pt,clearErrors:Tt,unregister:Le,setError:rt,setFocus:Wt,getFieldState:tt};return W(g({},lt),{formControl:lt})}var de=()=>{if(typeof crypto!="undefined"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance=="undefined"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Pe=(e,r,t={})=>t.shouldFocus||U(t.shouldFocus)?t.focusName||`${e}.${U(t.focusIndex)?r:t.focusIndex}.`:"",We=(e,r)=>[...e,...J(r)],qe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function He(e,r,t){return[...e.slice(0,r),...J(t),...e.slice(r)]}var $e=(e,r,t)=>Array.isArray(e)?(U(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],je=(e,r)=>[...J(r),...J(e)];function fr(e,r){let t=0;const s=[...e];for(const u of r)s.splice(u-t,1),t++;return Oe(s).length?s:[]}var Ke=(e,r)=>U(r)?[]:fr(e,J(r).sort((t,s)=>t-s)),ze=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},At=(e,r,t)=>(e[r]=t,e);function mr(e){const r=Re(),{control:t=r.control,name:s,keyName:u="id",shouldUnregister:n,rules:f}=e,[o,F]=V.useState(t._getFieldArray(s)),x=V.useRef(t._getFieldArray(s).map(de)),w=V.useRef(o),p=V.useRef(!1);w.current=o,t._names.array.add(s),V.useMemo(()=>f&&t.register(s,f),[t,f,s]),Ue(()=>t._subjects.array.subscribe({next:({values:_,name:v})=>{if(v===s||!v){const S=c(_,s);Array.isArray(S)&&(F(S),x.current=S.map(de))}}}).unsubscribe,[t,s]);const m=V.useCallback(_=>{p.current=!0,t._setFieldArray(s,_)},[t,s]),Q=(_,v)=>{const S=J(R(_)),L=We(t._getFieldArray(s),S);t._names.focus=Pe(s,L.length-1,v),x.current=We(x.current,S.map(de)),m(L),F(L),t._setFieldArray(s,L,We,{argA:qe(_)})},j=(_,v)=>{const S=J(R(_)),L=je(t._getFieldArray(s),S);t._names.focus=Pe(s,0,v),x.current=je(x.current,S.map(de)),m(L),F(L),t._setFieldArray(s,L,je,{argA:qe(_)})},O=_=>{const v=Ke(t._getFieldArray(s),_);x.current=Ke(x.current,_),m(v),F(v),!Array.isArray(c(t._fields,s))&&M(t._fields,s,void 0),t._setFieldArray(s,v,Ke,{argA:_})},q=(_,v,S)=>{const L=J(R(v)),$=He(t._getFieldArray(s),_,L);t._names.focus=Pe(s,_,S),x.current=He(x.current,_,L.map(de)),m($),F($),t._setFieldArray(s,$,He,{argA:_,argB:qe(v)})},oe=(_,v)=>{const S=t._getFieldArray(s);ze(S,_,v),ze(x.current,_,v),m(S),F(S),t._setFieldArray(s,S,ze,{argA:_,argB:v},!1)},A=(_,v)=>{const S=t._getFieldArray(s);$e(S,_,v),$e(x.current,_,v),m(S),F(S),t._setFieldArray(s,S,$e,{argA:_,argB:v},!1)},H=(_,v)=>{const S=R(v),L=At(t._getFieldArray(s),_,S);x.current=[...L].map(($,re)=>!$||re===_?de():x.current[re]),m(L),F([...L]),t._setFieldArray(s,L,At,{argA:_,argB:S},!0,!1)},B=_=>{const v=J(R(_));x.current=v.map(de),m([...v]),F([...v]),t._setFieldArray(s,[...v],S=>S,{},!0,!1)};return V.useEffect(()=>{if(t._state.action=!1,Ye(s,t._names)&&t._subjects.state.next(g({},t._formState)),p.current&&(!me(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!me(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([s]).then(_=>{const v=c(_.errors,s),S=c(t._formState.errors,s);(S?!v&&S.type||v&&(S.type!==v.type||S.message!==v.message):v&&v.type)&&(v?M(t._formState.errors,s,v):I(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const _=c(t._fields,s);_&&_._f&&!(me(t._options.reValidateMode).isOnSubmit&&me(t._options.mode).isOnSubmit)&&Je(_,t._names.disabled,t._formValues,t._options.criteriaMode===Z.all,t._options.shouldUseNativeValidation,!0).then(v=>!z(v)&&t._subjects.state.next({errors:Lt(t._formState.errors,v,s)}))}t._subjects.state.next({name:s,values:R(t._formValues)}),t._names.focus&&ve(t._fields,(_,v)=>{if(t._names.focus&&v.startsWith(t._names.focus)&&_.focus)return _.focus(),1}),t._names.focus="",t._setValid(),p.current=!1},[o,s,t]),V.useEffect(()=>(!c(t._formValues,s)&&t._setFieldArray(s),()=>{const _=(v,S)=>{const L=c(t._fields,v);L&&L._f&&(L._f.mount=S)};t._options.shouldUnregister||n?t.unregister(s):_(s,!1)}),[s,t,u,n]),{swap:V.useCallback(oe,[m,s,t]),move:V.useCallback(A,[m,s,t]),prepend:V.useCallback(j,[m,s,t]),append:V.useCallback(Q,[m,s,t]),remove:V.useCallback(O,[m,s,t]),insert:V.useCallback(q,[m,s,t]),update:V.useCallback(H,[m,s,t]),replace:V.useCallback(B,[m,s,t]),fields:V.useMemo(()=>o.map((_,v)=>W(g({},_),{[u]:x.current[v]||de()})),[o,u])}}function vr(e={}){const r=V.useRef(void 0),t=V.useRef(void 0),[s,u]=V.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current=W(g({},e.formControl),{formState:s}),e.defaultValues&&!te(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const f=dr(e),{formControl:o}=f,F=_e(f,["formControl"]);r.current=W(g({},F),{formState:s})}const n=r.current.control;return n._options=e,Ue(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u(g({},n._formState)),reRenderRoot:!0});return u(F=>W(g({},F),{isReady:!0})),n._formState.isReady=!0,o},[n]),V.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),V.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),V.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),V.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),V.useEffect(()=>{e.values&&!le(e.values,t.current)?(n._reset(e.values,g({keepFieldsRef:!0},n._options.resetOptions)),t.current=e.values,u(o=>g({},o))):n._resetDefaultValues()},[n,e.values]),V.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next(g({},n._formState))),n._removeUnmounted()}),r.current.formState=Dt(s,n),r.current}export{hr as C,vr as a,Zt as b,mr as c,c as g,M as s,Qt as u};
