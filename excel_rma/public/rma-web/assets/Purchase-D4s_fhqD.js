var R=Object.defineProperty,I=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var g=(r,t,e)=>t in r?R(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,S=(r,t)=>{for(var e in t||(t={}))x.call(t,e)&&g(r,e,t[e]);if(i)for(var e of i(t))h.call(t,e)&&g(r,e,t[e]);return r},f=(r,t)=>I(r,k(t));var c=(r,t)=>{var e={};for(var s in r)x.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&i)for(var s of i(r))t.indexOf(s)<0&&h.call(r,s)&&(e[s]=r[s]);return e};import{j as o,U as N,r as j}from"./index-BpSF5Wtu.js";import{g as w}from"./purchase-BMc_n8j5.js";import{g as O,a as U,b as H,C as B}from"./CustomTable-B-nvSBib.js";import{A as D,a as _}from"./index-D9i1hHMe.js";import{T as F}from"./index-DQfblts6.js";import{C as G,a as K,b as V}from"./TableColumnUi-CCT2QUPZ.js";import{t as Y}from"./bundle-mjs-Bbh6cNEC.js";import{A as q}from"./AntInput-C6QLD0ga.js";import{A as C}from"./AntSelect-BnnGOX_h.js";import{P as M}from"./app-strings-D56g2F-8.js";import{u as $}from"./useDebounceSearch-Bnb78Ik2.js";import{R as l}from"./RenderController-BlO8I0ao.js";import{g as z}from"./dropdownApi-Cjg73vvp.js";import"./AntDatePicker-DgPHlk_s.js";import"./helper-crQtQ34Z.js";import"./index-D1ByBYj1.js";import{u as J}from"./index.esm-BHkfE-lQ.js";import{R as Q}from"./SearchOutlined-BWq2gfFj.js";import{R as W}from"./ClearOutlined-BXIALdRY.js";import"./pagination.utils-Dq4giu9F.js";import"./roundedArrow-Y7rqzAmY.js";import"./useMergedState-Bb5lufc3.js";import"./index-CYeHRA9O.js";import"./index-CY4oh9uF.js";import"./LeftOutlined-BPzNSWSG.js";import"./index-K-zqVkRk.js";import"./doctype-strings-B61UNAtB.js";const X=t=>{var r=c(t,[]);const n=r,{bordered:e=!1}=n,s=c(n,["bordered"]);return o.jsx(F,f(S({},s),{bordered:e}))},Z=()=>[{key:"sl",title:"SL",render:(t,e,s)=>o.jsx("span",{children:s+1})},{key:"name",title:"INVOICE NO",render:t=>G(N(t.toString()),t.toString())},{key:"custom_excel_status",title:"STATUS",render:t=>{const e=O(t.toString()),s=U(t.toString());return o.jsx(X,{color:e,children:s})}},{key:"progress",title:"PROGRESS",render:(t,e)=>{var n;const s=H((n=e.total_qty)!=null?n:0,e.receipt_data);return V(s,e.status)}},{key:"posting_date",title:"POSTING DATE"},{key:"supplier_name",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:t=>K(Number(t))},{key:"owner",title:"CREATED BY"},{key:"delivered_by",title:"DELIVERED BY",render:(t,e)=>{var s,n,a;return(a=(n=(s=e.receipt_data)==null?void 0:s[0])==null?void 0:n.modified_by)!=null?a:o.jsx("div",{className:"text-center",children:"-"})}}],ee=({control:r,className:t})=>{const{setSearchInput:e,data:{data:s,isLoading:n}}=$({fetchFunction:z});return o.jsxs("div",{className:Y("grid grid-cols-1 md:grid-cols-2 lg:flex lg:items-center gap-2 w-full",t),children:[l(r,"invoice_number",o.jsx(q,{type:"text",placeholder:"Invoice Number"})),l(r,"status",o.jsx(C,{placeholder:"Status",options:M,showSearch:!1})),l(r,"supplier",o.jsx(C,{placeholder:"Select Supplier",onSearch:a=>e(a),loading:n,options:s==null?void 0:s.map(a=>({value:a.name,label:a.supplier_name})),notFoundText:"No Supplier Found",onClear:()=>e(null),filterOption:!1})),l(r,"date_range",o.jsx(D,{placeholder:["Start Date","End Date"]}))]})},Ee=()=>{var m,u,p,d;const[r,t]=j.useState(0),[e,s]=j.useState(null),{control:n,reset:a,handleSubmit:b}=J({mode:"onChange"}),{data:y,isLoading:T,total:v}=w({invoice_number:(m=e==null?void 0:e.invoice_number)!=null?m:"",status:(u=e==null?void 0:e.status)!=null?u:"",supplier:(p=e==null?void 0:e.supplier)!=null?p:"",date_range:(d=e==null?void 0:e.date_range)!=null?d:null}),L=()=>{a(),s(null),t(r+1)},P=Z(),A=b(E=>{s(E)});return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[o.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[o.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),o.jsx(ee,{control:n},r),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_,{icon:o.jsx(Q,{}),onClick:A,children:"Search"}),o.jsx(_,{icon:o.jsx(W,{}),onClick:L,children:"Clear"})]})]}),o.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:o.jsx(B,{data:y||[],tableHeader:P,loading:T,totalItems:v})})]})})};export{Ee as default};
