var q=Object.defineProperty,L=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var S=(a,t,r)=>t in a?q(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,v=(a,t)=>{for(var r in t||(t={}))H.call(t,r)&&S(a,r,t[r]);if(j)for(var r of j(t))B.call(t,r)&&S(a,r,t[r]);return a},I=(a,t)=>L(a,U(t));import{r as T,j as e}from"./index-DCZ0UN8-.js";import{I as Q,a as c}from"./index-ctMGf2eM.js";import{A as l}from"./AntSelect-DgCb2yTq.js";import{R as J,a as _,A}from"./AntCustomTable-BMVYCD4q.js";import{A as Y}from"./AntDatePicker-C8QY_plD.js";import{A as u}from"./AntInput-WMq0By1Z.js";import{R as o}from"./RenderController-BDtEhIH_.js";import{S as n}from"./enums-x_SlNy7_.js";import{a as G,u as K,c as b}from"./index.esm-Do8PqvYq.js";import{A as X}from"./AntUpload-DtXhVQJr.js";import{T as Z}from"./index-B9BTWh26.js";import"./helper-CwCF0Gnu.js";import{u as ee}from"./useNotify-CdKYUXLF.js";import{R as te}from"./ClearOutlined-rJZW2tHA.js";import{R as ae}from"./SendOutlined-D1HvNRgB.js";import"./roundedArrow-DgA9nPZM.js";import"./useMergedState-C70scdEg.js";import"./index-BWatvjzD.js";import"./bundle-mjs-Bbh6cNEC.js";import"./LeftOutlined-CmLSScSJ.js";import"./dropdown-ZzFTzWBL.js";import"./index-DfKWmy64.js";import"./index-BRQSaQKC.js";var k={};Object.defineProperty(k,"__esModule",{value:!0});var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},se=k.default=re;function g(){return g=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},g.apply(this,arguments)}const oe=(a,t)=>T.createElement(Q,g({},a,{ref:t,icon:se})),ne=T.forwardRef(oe),le=({control:a})=>{const t=G({control:a,name:"entry_type"});return e.jsxs("div",{className:"bg-white dark:bg-darkmode-800 p-5 rounded-md drop-shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 w-full ",children:[o(a,"territory_name",e.jsx(l,{placeholder:"Select Territory",notFoundText:"No Territory Found",options:Array.from({length:100},(r,s)=>({value:`Territory ${s+1}`,label:`Territory ${s+1}`}))})),o(a,"entry_type",e.jsx(l,{placeholder:"Select Entry Type",notFoundText:"No Entry Type Found",options:Object.entries(n).map(([,r])=>({value:r,label:r}))})),t&&t!==n.MATERIAL_TRANSFER&&o(a,"account_name",e.jsx(l,{placeholder:"Select Account",notFoundText:"No Account Found",options:Array.from({length:100},(r,s)=>({value:`Account ${s+1}`,label:`Account ${s+1}`}))})),t&&(t===n.MATERIAL_ISSUE||t===n.R_D_PRODUCTS)&&o(a,"customer_name",e.jsx(l,{placeholder:"Select Customer",notFoundText:"No Customer Found",options:Array.from({length:100},(r,s)=>({value:`Customer ${s+1}`,label:`Customer ${s+1}`}))})),o(a,"posting_date",e.jsx(Y,{placeholder:"Select Posting Date"})),o(a,"remarks",e.jsx(u,{type:"text",placeholder:"Enter Remarks"})),t&&(t===n.MATERIAL_ISSUE||t===n.R_D_PRODUCTS)&&o(a,"project_name",e.jsx(l,{placeholder:"Select Project",notFoundText:"No Project Found",options:Array.from({length:100},(r,s)=>({value:`Project ${s+1}`,label:`Project ${s+1}`}))})),o(a,"file",e.jsx(X,{size:"large"})),o(a,"from_range",e.jsx(u,{type:"number",placeholder:"From Range"})),o(a,"to_range",e.jsx(u,{type:"number",placeholder:"To Range"}))]}),e.jsx("h3",{className:"text-primary text-lg font-bold mt-5",children:"Warehouse"}),e.jsxs("div",{className:"flex gap-2 w-full",children:[o(a,"source_warehouse",e.jsx(l,{disabled:t&&t===n.MATERIAL_RECEIPT,placeholder:"Select Source Warehouse",notFoundText:"No Source Warehouse Found",options:Array.from({length:100},(r,s)=>({value:`Source Warehouse ${s+1}`,label:`Source Warehouse ${s+1}`}))})),o(a,"target_warehouse",e.jsx(l,{disabled:t&&(t===n.MATERIAL_ISSUE||t===n.R_D_PRODUCTS),placeholder:"Select Target Warehouse",notFoundText:"No Target Warehouse Found",options:Array.from({length:100},(r,s)=>({value:`Target Warehouse ${s+1}`,label:`Target Warehouse ${s+1}`}))}))]})]})},ie=({handleItemChange:a,appendTransferSerials:t,remove:r})=>[{key:"item_name",title:"Item Name",dataIndex:"item_name"},{key:"available_stock",title:"Available Stock",dataIndex:"available_stock"},{key:"assigned",title:"Assigned",dataIndex:"assigned"},{key:"qty",title:"Qty",dataIndex:"qty",render:(s,i,p)=>e.jsx(u,{type:"number",placeholder:"Enter Quantity",onChange:x=>{a(p,"qty",x.target.value)},size:"small"})},{key:"has_serial",title:"Has Serial",dataIndex:"has_serial",render:(s,i)=>e.jsx(Z,{color:i.has_serial?"green":"red",children:i.has_serial?"Yes":"No"})},{key:"add_serials",title:"Add Serials",dataIndex:"add_serials",render:()=>e.jsx(c,{size:"middle",icon:e.jsx(J,{}),onClick:()=>t({source_warehouse:"Baridhara Warehouse",item_name:"Tp Link",quantity:"10",serials:"1234567890",warranty_date:"10/10/2025"})})},{key:"actions",title:"Actions",dataIndex:"actions",render:(s,i)=>e.jsx("div",{className:"flex gap-2",children:e.jsx(c,{size:"small",icon:e.jsx(_,{}),color:"danger",variant:"solid",onClick:()=>r(i.id)})})}],de=({removeTransferSerials:a})=>[{key:"source_warehouse",title:"Source Warehouse",dataIndex:"source_warehouse"},{key:"item_name",title:"Item Name",dataIndex:"item_name"},{key:"quantity",title:"Quantity",dataIndex:"quantity"},{key:"serials",title:"Serials",dataIndex:"serials"},{key:"warranty_date",title:"Warranty Date",dataIndex:"warranty_date"},{key:"actions",title:"Actions",dataIndex:"actions",render:(t,r)=>e.jsx("div",{className:"flex gap-2",children:e.jsx(c,{size:"small",icon:e.jsx(_,{}),color:"danger",variant:"solid",onClick:()=>a(r.id)})})}],We=({id:a})=>{console.log(a);const t=ee(),{control:r,watch:s,reset:i,handleSubmit:p,setValue:x,getValues:N}=K({mode:"onChange",defaultValues:{items:[],transferSerials:[]}}),{fields:R,append:C,remove:F}=b({control:r,name:"items"}),{fields:w,append:E,remove:$}=b({control:r,name:"transferSerials"}),[h,f]=s(["from_range","to_range"]),O=h&&f&&+h<=+f?+f-+h+1:0,W=()=>{i({items:[],transferSerials:[]})},P=d=>{t.open({message:"Stock Entry Added Successfully",description:JSON.stringify(d)})},D=d=>{const m={id:Date.now().toString(),item_name:d,available_stock:"0",assigned:"0",qty:"1",has_serial:!1,add_serials:!1};C(m)},z=ie({handleItemChange:(d,m,V)=>{const y=[...N("items")];y[d]=I(v({},y[d]),{[m]:V}),x("items",y)},appendTransferSerials:E,remove:F}),M=de({removeTransferSerials:$});return e.jsxs("div",{className:"intro-y",children:[e.jsxs("div",{className:"flex justify-between items-center mt-5",children:[e.jsx("h2",{className:"text-2xl text-primary font-bold",children:"Add Stock Entry"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"text-lg text-primary font-semibold",children:["Total : ",O]}),e.jsx(c,{label:"Save",icon:e.jsx(ne,{}),color:"orange",variant:"solid"}),a&&e.jsx(c,{label:"Delete",icon:e.jsx(_,{}),color:"danger",variant:"solid"}),e.jsx(c,{label:"Clear",icon:e.jsx(te,{}),color:"danger",variant:"solid",onClick:W}),e.jsx(c,{label:"Submit",icon:e.jsx(ae,{}),type:"primary",onClick:p(P)})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(le,{control:r})}),e.jsx(A,{className:"mt-5",data:R,columns:z,title:()=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-center",children:"Items"}),e.jsx(l,{placeholder:"Add Item",notFoundText:"No Item Found",style:{width:200},options:Array.from({length:100},(d,m)=>({value:`Item ${m+1}`,label:`Item ${m+1}`})),onSelect:D})]}),pagination:!1}),e.jsx(A,{className:"mt-5",data:w,columns:M,title:()=>e.jsx("h3",{className:"text-lg font-bold",children:"Transfer Serials"}),pagination:!1})]})};export{We as default};
