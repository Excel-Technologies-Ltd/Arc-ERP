var _=Object.defineProperty,I=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var g=(r,t,e)=>t in r?_(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,f=(r,t)=>{for(var e in t||(t={}))h.call(t,e)&&g(r,e,t[e]);if(i)for(var e of i(t))S.call(t,e)&&g(r,e,t[e]);return r},x=(r,t)=>I(r,k(t));var c=(r,t)=>{var e={};for(var s in r)h.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&i)for(var s of i(r))t.indexOf(s)<0&&S.call(r,s)&&(e[s]=r[s]);return e};import{j as o,U as w,r as C}from"./index-B0b10Haa.js";import{g as N}from"./purchase-CoDvjt-X.js";import{C as O}from"./CustomTable-Dp9h3GO_.js";import{A as U,a as b}from"./index-BOP1i5Hi.js";import{T as H}from"./index-BOzOKBnQ.js";import{C as B,a as D,b as F}from"./TableColumnUi-DPnOI1LD.js";import{t as G}from"./bundle-mjs-Bbh6cNEC.js";import{A as K}from"./AntInput-DpNIycNw.js";import{A as j}from"./AntSelect-D1F6aRtg.js";import{P as V}from"./app-strings-sjfgiJ-K.js";import{u as Y}from"./useDebounceSearch-aNwS0PXd.js";import{R as l}from"./RenderController-CRw-9y91.js";import{g as M}from"./dropdownApi-p4tlyMwU.js";import"./AntDatePicker-DlT8LsCU.js";import"./helper-Cyig9Oz8.js";import"./index-CVnHxg8I.js";import{u as $}from"./index.esm-Cip9Y1dE.js";import{R as q}from"./SearchOutlined-Cax-Zl8-.js";import{R as z}from"./ClearOutlined-Dhmr-SzX.js";import"./pagination.utils-Dq4giu9F.js";import"./doctype-strings-C-G4L_vj.js";import"./roundedArrow-BXSVzTKG.js";import"./useMergedState-M0hMqZLX.js";import"./index-DQxGR2z1.js";import"./index-gsFkoFNT.js";import"./LeftOutlined-CySW0Inc.js";import"./index-DuUGppJ4.js";const J=t=>{var r=c(t,[]);const n=r,{bordered:e=!1}=n,s=c(n,["bordered"]);return o.jsx(H,x(f({},s),{bordered:e}))},Q=()=>[{key:"sl",title:"SL",render:(t,e,s)=>o.jsx("span",{children:s+1})},{key:"name",title:"INVOICE NO",render:t=>B(w(t.toString()),t.toString())},{key:"status",title:"STATUS",render:t=>{const e=n=>{switch(n){case"Cancelled":return"red";case"Submitted":return"green";default:return"blue"}},s=n=>{switch(n){case"Cancelled":return"Cancelled";case"Submitted":return"Submitted";default:return n}};return o.jsx(J,{color:e(t.toString()),children:s(t.toString())})}},{key:"progress",title:"PROGRESS",render:()=>D(.5)},{key:"posting_date",title:"POSTING DATE"},{key:"supplier_name",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:t=>F(Number(t))},{key:"owner",title:"CREATED BY"},{key:"delivered_by",title:"DELIVERED BY"}],W=({control:r,className:t})=>{const{setSearchInput:e,data:{data:s,isLoading:n}}=Y({fetchFunction:M});return o.jsxs("div",{className:G("grid grid-cols-1 md:grid-cols-2 lg:flex lg:items-center gap-2 w-full",t),children:[l(r,"invoice_number",o.jsx(K,{type:"text",placeholder:"Invoice Number"})),l(r,"status",o.jsx(j,{placeholder:"Status",options:V,showSearch:!1})),l(r,"supplier",o.jsx(j,{placeholder:"Select Supplier",onSearch:a=>e(a),loading:n,options:s==null?void 0:s.map(a=>({value:a.name,label:a.supplier_name})),notFoundText:"No Supplier Found",onClear:()=>e(null),filterOption:!1})),l(r,"date_range",o.jsx(U,{placeholder:["Start Date","End Date"]}))]})},Ae=()=>{var m,u,d,p;const[r,t]=C.useState(0),[e,s]=C.useState(null),{control:n,reset:a,handleSubmit:T}=$({mode:"onChange"}),{data:y,isLoading:v,total:L}=N({invoice_number:(m=e==null?void 0:e.invoice_number)!=null?m:"",status:(u=e==null?void 0:e.status)!=null?u:"",supplier:(d=e==null?void 0:e.supplier)!=null?d:"",date_range:(p=e==null?void 0:e.date_range)!=null?p:null}),A=()=>{a(),s(null),t(r+1)},E=Q(),P=T(R=>{s(R)});return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[o.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[o.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),o.jsx(W,{control:n},r),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(b,{icon:o.jsx(q,{}),onClick:P,children:"Search"}),o.jsx(b,{icon:o.jsx(z,{}),onClick:A,children:"Clear"})]})]}),o.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:o.jsx(O,{data:y||[],tableHeader:E,loading:v,totalItems:L})})]})})};export{Ae as default};
