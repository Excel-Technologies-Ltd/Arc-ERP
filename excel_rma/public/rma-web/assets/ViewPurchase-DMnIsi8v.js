import{c as p,r as h,j as s}from"./index-CAMe3TI6.js";import{a as f}from"./purchase-D21SjZcW.js";import{B as N}from"./index-BsTLLEIi.js";import{u}from"./index.esm-DofzH5L8.js";import{L as a,F as g,S as b,a as w}from"./SerialAssignForm-kXRqkL8T.js";import{d as o}from"./dayjs.min-BaUnGTgK.js";import{T as v}from"./AntUpload-CZhHeQou.js";import"./pagination.utils-Dq4giu9F.js";import"./doctype-strings-C-G4L_vj.js";import"./bundle-mjs-Bbh6cNEC.js";import"./AntCustomTable-DbJtMrEv.js";import"./index-BoqRkbOK.js";import"./roundedArrow-DTDULg7k.js";import"./useMergedState-1vUmmcAS.js";import"./index-D5M48et9.js";import"./AntSelect-fXGbbSnZ.js";import"./LeftOutlined-9vg3d2iC.js";import"./dropdown-DQ-oMNqG.js";import"./AntInput-ws5y_prr.js";import"./iconBase-DEI8941X.js";import"./AntDatePicker-DybsIA1m.js";import"./RenderController-SaZuHdvL.js";import"./dropdownApi-Bha4TmMs.js";const S=t=>{var e;return{warehouse:(e=t==null?void 0:t.set_warehouse)!=null?e:void 0,date:t!=null&&t.posting_date?o(t.posting_date):o(),file:void 0,fromRange:"",toRange:""}},U=()=>{var l;const{invoice_number:t}=p(),{data:e,isLoading:d,isValidating:i}=f(t!=null?t:""),n=h.useMemo(()=>S(e),[e]),{control:c,watch:x}=u({values:n,mode:"onChange",resetOptions:{keepDirtyValues:!0}}),[r,m]=x(["fromRange","toRange"]),j=r&&m&&+r<=+m?+m-+r+1:0;return d||i?s.jsx("div",{children:"loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center mt-8 intro-y sm:flex-row",children:[s.jsx("h2",{className:"mr-auto text-lg font-medium",children:"Transaction Details"}),s.jsx("div",{className:"flex w-full mt-4 sm:w-auto sm:mt-0",children:s.jsx(N,{variant:"primary",className:"mr-2 shadow-md",children:"Submit"})})]}),s.jsxs("div",{className:"grid grid-cols-11 gap-5 mt-5",children:[s.jsxs("div",{className:"col-span-12 lg:col-span-4 2xl:col-span-3 intro-y",children:[s.jsxs("div",{className:"p-5 rounded-md box",children:[s.jsx("div",{className:"flex items-center pb-5 mb-5 border-b border-slate-200/60 dark:border-darkmode-400",children:s.jsx("div",{className:"text-base font-medium truncate",children:"Purchase Details"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),"Invoice:",s.jsx("span",{className:"ml-1 underline decoration-dotted",children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),"Order:",s.jsx("span",{className:"ml-1 underline decoration-dotted",children:(l=e==null?void 0:e.items[0])==null?void 0:l.purchase_order})]}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),"Supplier: ",e==null?void 0:e.supplier_name]}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),"Posting Date: ",e==null?void 0:e.posting_date]}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),"Warehouse: ",e==null?void 0:e.set_warehouse]}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx(a,{className:"w-4 h-4 mr-2 text-slate-500"}),s.jsx("span",{className:"mr-2",children:"Status:"}),s.jsx(g,{gap:"4px 0",wrap:!0,children:s.jsx(v,{color:"blue",children:e==null?void 0:e.status})})]})]}),s.jsxs("div",{className:"p-5 rounded-md box mt-5",children:[s.jsx("div",{className:"flex items-center pb-5 mb-5 border-b border-slate-200/60 dark:border-darkmode-400",children:s.jsx("div",{className:"text-base font-medium truncate",children:"Serial Assign"})}),s.jsxs("div",{className:"space-y-4 w-full",children:[s.jsx(b,{control:c}),s.jsxs("p",{className:"text-lg text-primary",children:["Total : ",j]})]})]})]}),s.jsx("div",{className:"col-span-12 lg:col-span-7 2xl:col-span-8 intro-x",children:s.jsx(w,{data:e})})]})]})};export{U as default};
