var T=Object.defineProperty,L=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var h=(a,e,l)=>e in a?T(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l,S=(a,e)=>{for(var l in e||(e={}))g.call(e,l)&&h(a,l,e[l]);if(c)for(var l of c(e))x.call(e,l)&&h(a,l,e[l]);return a},v=(a,e)=>L(a,R(e));var f=(a,e)=>{var l={};for(var r in a)g.call(a,r)&&e.indexOf(r)<0&&(l[r]=a[r]);if(a!=null&&c)for(var r of c(a))e.indexOf(r)<0&&x.call(a,r)&&(l[r]=a[r]);return l};import{R as A,j as t,L as D,r as i}from"./index-DQE3-2uI.js";import{B as w}from"./index-DTzYNCIA.js";import{A as I}from"./AntInput-oWAdE42b.js";import{g as _,A as j}from"./commonApi-CqE4iSRE.js";import{D as O,g as $}from"./purchase-6ZulU8Pn.js";import{C as B}from"./CustomTable-BC6PPhBt.js";import"./bundle-mjs-Bbh6cNEC.js";import"./index-CSUC_KtR.js";import"./index-Bf1NQ104.js";import"./index-Do0Jgect.js";import"./clsx-B-dksMZM.js";const{RangePicker:F}=O,H=A.forwardRef((d,o)=>{var s=d,{size:a="large",allowClear:e=!0,className:l="w-full"}=s,r=f(s,["size","allowClear","className"]);return t.jsx(F,v(S({ref:o,size:a,allowClear:e,className:l},r),{classNames:{popup:{root:"single-month-picker"}}}))}),U=[{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"submitted",label:"Submitted"},{value:"all",label:"All"}],G=()=>[{key:"sl",title:"SL",render:(e,l,r)=>t.jsx("span",{children:r+1})},{key:"name",title:"INVOICE NO",render:e=>t.jsx(D,{to:`/purchase/view-purchase-invoice/${e}`,className:"underline decoration-dotted whitespace-nowrap",children:e})},{key:"status",title:"STATUS",render:e=>t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e==="completed"?"bg-green-100 text-green-800":e==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e})},{key:"progress",title:"PROGRESS",render:()=>t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full",style:{width:`${Math.random()*99}%`}})})},{key:"posting_date",title:"POSTING DATE"},{key:"supplier",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:e=>`$${Number(e).toFixed(2)}`},{key:"owner",title:"CREATED BY"},{key:"owner",title:"DELIVERED BY"}],le=()=>{const[a,e]=i.useState(null),[l,r]=i.useState(null),[o,d]=i.useState(null),[s,p]=i.useState(null),[y,m]=i.useState(null),{data:u,isLoading:b}=_(a),{data:C,isLoading:k,total:E}=$({purchase_invoice_number:l!=null?l:"",status:o!=null?o:"",supplier:s!=null?s:""}),N=()=>{r(null),d(null),p(null),m(null)},P=G();return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[t.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[t.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),t.jsxs("div",{className:"flex w-full gap-2 flex-wrap lg:flex-nowrap",children:[t.jsx(I,{placeholder:"Purchase Invoice Number",type:"text",onChange:n=>r(n.target.value),value:l!=null?l:""}),t.jsx(j,{placeholder:"Status",value:o!=null?o:void 0,onChange:n=>d(n),options:U,showSearch:!1}),t.jsx(j,{placeholder:"Select Supplier",value:s!=null?s:void 0,onChange:n=>{p(n),e(null)},onSearch:n=>e(n),loading:b,options:u==null?void 0:u.map(n=>({value:n.name,label:n.supplier_name})),notFoundText:"No Supplier Found"}),t.jsx(H,{allowClear:!0,value:y,size:"large",placeholder:["Start Date","End Date"],onChange:n=>m(n)}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(w,{variant:"outline-primary",children:"Search"}),t.jsx(w,{onClick:N,variant:"outline-primary",children:"Clear"})]})]})]}),t.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:t.jsx(B,{data:C||[],tableHeader:P,loading:k,showAction:!1,totalItems:E})})]})})};export{le as default};
