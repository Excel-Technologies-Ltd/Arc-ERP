var D=Object.defineProperty;var d=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var g=(s,e,r)=>e in s?D(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,y=(s,e)=>{for(var r in e||(e={}))w.call(e,r)&&g(s,r,e[r]);if(d)for(var r of d(e))N.call(e,r)&&g(s,r,e[r]);return s};var S=(s,e)=>{var r={};for(var a in s)w.call(s,a)&&e.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&d)for(var a of d(s))e.indexOf(a)<0&&N.call(s,a)&&(r[a]=s[a]);return r};import{j as t,aQ as v,r as x}from"./index-DQE3-2uI.js";import{T as l}from"./index-Bf1NQ104.js";import{B as T}from"./index-DTzYNCIA.js";import{D as P}from"./index-Do0Jgect.js";import{L as A}from"./index-CSUC_KtR.js";import{p as I,P as L,r as z,E as m}from"./commonApi-CqE4iSRE.js";const M=({headers:s,action:e})=>t.jsx(l.Thead,{children:t.jsxs(l.Tr,{children:[s.map((r,a)=>t.jsx(l.Th,{style:{width:r.width},className:"border-b-0 whitespace-nowrap",children:r.title},r.key||a)),e&&t.jsx(l.Th,{className:"border-b-0 whitespace-nowrap",children:"Action"})]})}),R=({data:s})=>t.jsx(l.Tr,{className:"intro-x",children:s.map((e,r)=>t.jsx(l.Td,{style:{width:e==null?void 0:e.width},className:"box whitespace-nowrap rounded-l-none rounded-r-none border-x-0 shadow-[5px_3px_5px_#00000005] first:rounded-l-[0.6rem] first:border-l last:rounded-r-[0.6rem] last:border-r dark:bg-darkmode-600",children:e==null?void 0:e.title},r))}),B=({onEdit:s,onDelete:e,hideEditOnTable:r,item:a,setSelectedId:n,setDeleteConfirmationModal:i})=>{const o=()=>{n(a.name||a.id),i(!0)};return t.jsxs("div",{className:"flex items-center gap-2",children:[!r&&t.jsx("button",{onClick:()=>s==null?void 0:s(a),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),t.jsx("button",{onClick:o,className:"text-red-600 hover:text-red-800",children:"Delete"})]})},F=({deleteConfirmationModal:s,setDeleteConfirmationModal:e,onDelete:r,selectedId:a})=>t.jsx(P,{open:s,onClose:()=>e(!1),children:t.jsxs(P.Panel,{children:[t.jsxs("div",{className:"p-5 text-center",children:[t.jsx(A,{icon:"XCircle",className:"w-16 h-16 mx-auto mt-3 text-danger"}),t.jsx("div",{className:"mt-5 text-3xl",children:"Are you sure?"}),t.jsxs("div",{className:"mt-2 text-slate-500",children:["Do you really want to delete this record? ",t.jsx("br",{})]})]}),t.jsxs("div",{className:"px-5 pb-8 text-center",children:[t.jsx(T,{variant:"outline-secondary",type:"button",onClick:()=>e(!1),className:"w-24 mr-1",children:"Cancel"}),"   ",r&&t.jsx(T,{variant:"danger",type:"button",className:"w-24",onClick:()=>{a&&r&&(r(a),e(!1))},children:"Delete"})]})]})}),G=({totalItems:s})=>{const[e,r]=v(),{page:a,pageSize:n}=I(e),i=(o,c)=>{r({page:o.toString(),pageSize:c.toString(),limit_start:(c*(o-1)).toString()})};return t.jsx(L,{total:s,onChange:i,pageSizeOptions:z,pageSize:n,current:a})},O=a=>{var n=a,{image:s="default",description:e="No Data Found"}=n,r=S(n,["image","description"]);let i;switch(s){case"simple":i=m.PRESENTED_IMAGE_SIMPLE;break;case"default":i=m.PRESENTED_IMAGE_DEFAULT;break}return t.jsx(m,y({image:i,description:e},r))},Q=(s,e,r)=>{let a;if(e.render){const n=s[e.key];a=e.render(n,s,r)}else a=s[e.key]||"-";return{title:a,width:e.width}},U=({data:s,onDelete:e,onEdit:r,tableHeader:a=[],loading:n=!1,showAction:i=!1,hideEditOnTable:o=!1,totalItems:c=0})=>{const[h,p]=x.useState(!1),[E,C]=x.useState(null),[u]=v(),k=Number(u.get("pageSize"))||10,j=Number(u.get("limit_start"))||0;return n?t.jsx("div",{children:"Loading..."}):!s||(s==null?void 0:s.length)===0?t.jsx(O,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"max-w-full relative",children:[t.jsxs(l,{className:"max-w-full border-spacing-y-[10px] border-separate",children:[t.jsx(M,{headers:a,action:i}),t.jsx(l.Tbody,{children:s.map((f,b)=>t.jsx(R,{data:[...a.map(_=>Q(f,_,b)),...i?[{title:t.jsx(B,{onEdit:r,onDelete:e,hideEditOnTable:o,item:f,setSelectedId:C,setDeleteConfirmationModal:p}),width:"50px"}]:[]]},b))})]}),t.jsxs("div",{className:"flex flex-wrap justify-between items-center intro-y sm:flex-row sm:flex-nowrap mt-3",children:[t.jsxs("div",{className:"hidden xl:block text-slate-500",children:["Showing ",j+1," to ",j+k," of ",c," entries"]}),t.jsx(G,{totalItems:c||0})]})]}),h&&t.jsx(F,{deleteConfirmationModal:h,setDeleteConfirmationModal:p,onDelete:e,selectedId:E})]})},K=x.memo(U);export{K as C};
