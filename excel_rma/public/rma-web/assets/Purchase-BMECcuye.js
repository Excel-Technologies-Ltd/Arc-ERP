import{j as e,U as v,r as u}from"./index-8c8MWHS7.js";import{g as L}from"./purchase-Bkv48oLA.js";import{C as E}from"./CustomTable-Bl3Yh8aq.js";import{A as P,a as d}from"./index-Cnws3vrW.js";import{C as R,a as T,b as _}from"./TableColumnUi-Bmj8h4kO.js";import{t as A}from"./bundle-mjs-Bbh6cNEC.js";import{A as I}from"./AntInput-B1JBAOxi.js";import{A as g}from"./AntSelect-b23sTvdE.js";import{P as k}from"./app-strings-Cs6FvmwH.js";import{u as w}from"./useDebounceSearch-EYe_KJ74.js";import{R as i}from"./RenderController-B-V75prw.js";import{g as N}from"./dropdownApi-A7O2ZLcx.js";import"./AntDatePicker-DLUIi2jr.js";import"./helper-CqzKcjxO.js";import"./index-zognkRmJ.js";import{u as O}from"./index.esm-SC33979T.js";import{R as U}from"./SearchOutlined-VNlQZQEm.js";import{R as H}from"./ClearOutlined-CTASUb55.js";import"./pagination.utils-Dq4giu9F.js";import"./doctype-strings-C-G4L_vj.js";import"./roundedArrow-EzlWGpmr.js";import"./useMergedState-HTTS6kwS.js";import"./index-FaQCZFv_.js";import"./LeftOutlined-pLHQlSZZ.js";const B=()=>[{key:"sl",title:"SL",render:(r,t,o)=>e.jsx("span",{children:o+1})},{key:"name",title:"INVOICE NO",render:r=>R(v(r.toString()),r.toString())},{key:"status",title:"STATUS",render:r=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r==="completed"?"bg-green-100 text-green-800":r==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r})},{key:"progress",title:"PROGRESS",render:()=>T(.5)},{key:"posting_date",title:"POSTING DATE"},{key:"supplier_name",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:r=>_(Number(r))},{key:"owner",title:"CREATED BY"},{key:"delivered_by",title:"DELIVERED BY"}],D=({control:s,className:r})=>{const{setSearchInput:t,data:{data:o,isLoading:a}}=w({fetchFunction:N});return e.jsxs("div",{className:A("grid grid-cols-1 md:grid-cols-2 lg:flex lg:items-center gap-2 w-full",r),children:[i(s,"invoice_number",e.jsx(I,{type:"text",placeholder:"Invoice Number"})),i(s,"status",e.jsx(g,{placeholder:"Status",options:k,showSearch:!1})),i(s,"supplier",e.jsx(g,{placeholder:"Select Supplier",onSearch:n=>t(n),loading:a,options:o==null?void 0:o.map(n=>({value:n.name,label:n.supplier_name})),notFoundText:"No Supplier Found",onClear:()=>t(null),filterOption:!1})),i(s,"date_range",e.jsx(P,{placeholder:["Start Date","End Date"]}))]})},ce=()=>{var l,m,c,p;const[s,r]=u.useState(0),[t,o]=u.useState(null),{control:a,reset:n,handleSubmit:x}=O({mode:"onChange"}),{data:h,isLoading:f,total:S}=L({invoice_number:(l=t==null?void 0:t.invoice_number)!=null?l:"",status:(m=t==null?void 0:t.status)!=null?m:"",supplier:(c=t==null?void 0:t.supplier)!=null?c:"",date_range:(p=t==null?void 0:t.date_range)!=null?p:null}),j=()=>{n(),o(null),r(s+1)},b=B(),y=x(C=>{o(C)});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[e.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),e.jsx(D,{control:a},s),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{icon:e.jsx(U,{}),onClick:y,children:"Search"}),e.jsx(d,{icon:e.jsx(H,{}),onClick:j,children:"Clear"})]})]}),e.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:e.jsx(E,{data:h||[],tableHeader:b,loading:f,totalItems:S})})]})})};export{ce as default};
