import{j as e,U as x}from"./index-CAMe3TI6.js";import{g as f}from"./purchase-D21SjZcW.js";import{C as h}from"./CustomTable-DhV1aYU1.js";import{A as l}from"./index-BoqRkbOK.js";import{C as S,a as j,b as C}from"./TableColumnUi-D2NMZHVh.js";import{A as y}from"./AntRangePicker-BqDMmJ2c.js";import{t as b}from"./bundle-mjs-Bbh6cNEC.js";import{A as L}from"./AntInput-ws5y_prr.js";import{A as m}from"./AntSelect-fXGbbSnZ.js";import{P as v}from"./app-strings-Cs6FvmwH.js";import{u as R}from"./useDebounceSearch-BUHGGJeD.js";import{R as n}from"./RenderController-SaZuHdvL.js";import{g as T}from"./dropdownApi-Bha4TmMs.js";import{u as A}from"./index.esm-DofzH5L8.js";import{R as E}from"./SearchOutlined-B0i9Qu2P.js";import{R as P}from"./ClearOutlined-DhwgvrB0.js";import"./pagination.utils-Dq4giu9F.js";import"./doctype-strings-C-G4L_vj.js";import"./dayjs.min-BaUnGTgK.js";import"./roundedArrow-DTDULg7k.js";import"./useMergedState-1vUmmcAS.js";import"./index-D5M48et9.js";import"./helper-C9sI7YaD.js";import"./LeftOutlined-9vg3d2iC.js";const _=()=>[{key:"sl",title:"SL",render:(r,a,t)=>e.jsx("span",{children:t+1})},{key:"name",title:"INVOICE NO",render:r=>S(x(r.toString()),r.toString())},{key:"status",title:"STATUS",render:r=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r==="completed"?"bg-green-100 text-green-800":r==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r})},{key:"progress",title:"PROGRESS",render:()=>j(.5)},{key:"posting_date",title:"POSTING DATE"},{key:"supplier_name",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:r=>C(Number(r))},{key:"owner",title:"CREATED BY"},{key:"delivered_by",title:"DELIVERED BY"}],I=({control:s,className:r})=>{const{setSearchInput:a,data:{data:t,isLoading:i}}=R({fetchFunction:T});return e.jsxs("div",{className:b("grid grid-cols-1 md:grid-cols-2 lg:flex lg:items-center gap-2 w-full",r),children:[n(s,"invoice_number",e.jsx(L,{type:"text",placeholder:"Invoice Number"})),n(s,"status",e.jsx(m,{placeholder:"Status",options:v,showSearch:!1})),n(s,"supplier",e.jsx(m,{placeholder:"Select Supplier",onSearch:o=>a(o),loading:i,options:t==null?void 0:t.map(o=>({value:o.name,label:o.supplier_name})),notFoundText:"No Supplier Found",onClear:()=>a(null),filterOption:!1})),n(s,"date_range",e.jsx(y,{placeholder:["Start Date","End Date"]}))]})},te=()=>{const{control:s,reset:r,watch:a}=A({mode:"onChange"}),t=a("invoice_number"),i=a("status"),o=a("supplier"),{data:p,isLoading:c,total:d}=f({purchase_invoice_number:t!=null?t:"",status:i!=null?i:"",supplier:o!=null?o:""}),u=()=>{r()},g=_();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[e.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),e.jsx(I,{control:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{icon:e.jsx(E,{}),children:"Search"}),e.jsx(l,{icon:e.jsx(P,{}),onClick:u,children:"Clear"})]})]}),e.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:e.jsx(h,{data:p||[],tableHeader:g,loading:c,totalItems:d})})]})})};export{te as default};
