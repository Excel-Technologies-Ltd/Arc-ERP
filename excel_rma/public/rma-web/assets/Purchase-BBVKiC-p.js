var I=Object.defineProperty,k=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var x=(r,t,e)=>t in r?I(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,f=(r,t)=>{for(var e in t||(t={}))h.call(t,e)&&x(r,e,t[e]);if(l)for(var e of l(t))S.call(t,e)&&x(r,e,t[e]);return r},j=(r,t)=>k(r,N(t));var m=(r,t)=>{var e={};for(var s in r)h.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&l)for(var s of l(r))t.indexOf(s)<0&&S.call(r,s)&&(e[s]=r[s]);return e};import{j as o,U as w,r as C}from"./index-DCZ0UN8-.js";import{g as O}from"./purchase-kvhebXfl.js";import{g as _,a as U,b as H,C as B}from"./CustomTable-BvBaM88E.js";import{A as D,a as b}from"./index-ctMGf2eM.js";import{T as q}from"./index-B9BTWh26.js";import{C as F,a as G,b as K}from"./TableColumnUi-DZc3JZh2.js";import{t as V}from"./bundle-mjs-Bbh6cNEC.js";import{A as Y}from"./AntInput-WMq0By1Z.js";import{A as y}from"./AntSelect-DgCb2yTq.js";import{P as M}from"./app-strings-SWYhzDJs.js";import{u as $}from"./useDebounceSearch-CvTAarQv.js";import{R as c}from"./RenderController-BDtEhIH_.js";import{g as z}from"./dropdownApi-DKvoBZ32.js";import"./AntDatePicker-C8QY_plD.js";import"./helper-CwCF0Gnu.js";import"./index-BcxYyanD.js";import{u as J}from"./index.esm-Do8PqvYq.js";import{R as Q}from"./SearchOutlined-DZydPgwT.js";import{R as W}from"./ClearOutlined-rJZW2tHA.js";import"./pagination.utils-Dq4giu9F.js";import"./doctype-strings-C-G4L_vj.js";import"./roundedArrow-DgA9nPZM.js";import"./useMergedState-C70scdEg.js";import"./index-BWatvjzD.js";import"./index-DfKWmy64.js";import"./LeftOutlined-CmLSScSJ.js";import"./index-BRQSaQKC.js";const X=t=>{var r=m(t,[]);const n=r,{bordered:e=!1}=n,s=m(n,["bordered"]);return o.jsx(q,j(f({},s),{bordered:e}))},Z=()=>[{key:"sl",title:"SL",render:(t,e,s)=>o.jsx("span",{children:s+1})},{key:"name",title:"INVOICE NO",render:t=>F(w(t.toString()),t.toString())},{key:"status",title:"STATUS",render:(t,e)=>{var i;const s=_((i=e.total_qty)!=null?i:0,e.receipt_data),n=U(s===1?"Completed":t.toString()),a=H(s===1?"Completed":t.toString());return o.jsx(X,{color:n,children:a})}},{key:"progress",title:"PROGRESS",render:(t,e)=>{var n;const s=_((n=e.total_qty)!=null?n:0,e.receipt_data);return K(s,e.status)}},{key:"posting_date",title:"POSTING DATE"},{key:"supplier_name",title:"SUPPLIER"},{key:"total",title:"TOTAL",render:t=>G(Number(t))},{key:"owner",title:"CREATED BY"},{key:"delivered_by",title:"DELIVERED BY",render:(t,e)=>{var s,n,a;return(a=(n=(s=e.receipt_data)==null?void 0:s[0])==null?void 0:n.modified_by)!=null?a:o.jsx("div",{className:"text-center",children:"-"})}}],ee=({control:r,className:t})=>{const{setSearchInput:e,data:{data:s,isLoading:n}}=$({fetchFunction:z});return o.jsxs("div",{className:V("grid grid-cols-1 md:grid-cols-2 lg:flex lg:items-center gap-2 w-full",t),children:[c(r,"invoice_number",o.jsx(Y,{type:"text",placeholder:"Invoice Number"})),c(r,"status",o.jsx(y,{placeholder:"Status",options:M,showSearch:!1})),c(r,"supplier",o.jsx(y,{placeholder:"Select Supplier",onSearch:a=>e(a),loading:n,options:s==null?void 0:s.map(a=>({value:a.name,label:a.supplier_name})),notFoundText:"No Supplier Found",onClear:()=>e(null),filterOption:!1})),c(r,"date_range",o.jsx(D,{placeholder:["Start Date","End Date"]}))]})},Ee=()=>{var p,u,d,g;const[r,t]=C.useState(0),[e,s]=C.useState(null),{control:n,reset:a,handleSubmit:i}=J({mode:"onChange"}),{data:T,isLoading:v,total:L}=O({invoice_number:(p=e==null?void 0:e.invoice_number)!=null?p:"",status:(u=e==null?void 0:e.status)!=null?u:"",supplier:(d=e==null?void 0:e.supplier)!=null?d:"",date_range:(g=e==null?void 0:e.date_range)!=null?g:null}),P=()=>{a(),s(null),t(r+1)},A=Z(),E=i(R=>{s(R)});return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-12 gap-6 mt-5",children:[o.jsxs("div",{className:"flex flex-wrap items-center col-span-12 mt-2 intro-y xl:flex-nowrap gap-3",children:[o.jsx("h2",{className:"text-lg font-medium intro-y whitespace-nowrap",children:"Purchase List"}),o.jsx(ee,{control:n},r),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(b,{icon:o.jsx(Q,{}),onClick:E,children:"Search"}),o.jsx(b,{icon:o.jsx(W,{}),onClick:P,children:"Clear"})]})]}),o.jsx("div",{className:"col-span-12 overflow-auto intro-y 2xl:overflow-visible",children:o.jsx(B,{data:T||[],tableHeader:A,loading:v,totalItems:L})})]})})};export{Ee as default};
